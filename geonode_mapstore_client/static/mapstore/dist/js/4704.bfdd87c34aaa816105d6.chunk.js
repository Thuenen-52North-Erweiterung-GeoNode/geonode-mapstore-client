(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4704],{55237:(t,e,n)=>{"use strict";n.d(e,{tr:()=>_,jb:()=>m,Xu:()=>T,un:()=>g,Qn:()=>h,_q:()=>N,og:()=>C,$4:()=>U,kN:()=>I,oD:()=>G,V$:()=>A,uH:()=>w,pC:()=>b,tz:()=>M,p:()=>P});var r=n(747037),o=n.n(r),i=n(647960),u=n.n(i),a=n(227361),c=n.n(a),E=n(984596),s=n.n(E),d=n(730381),f=n.n(d),O=n(86638);function l(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||S(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,E=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){E=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(E)throw o}}return a}}(t,e)||S(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R=/PT?[\d\.]+[YMWDHMS]/,v=function(t){return t?o()(t)?new Date(t).getTime():(u()(t)&&t.getTime(),t):null},D=function(t){var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds();return(new Date(n).getTime()-new Date(e).getTime())/o},_=function(t){for(var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds(),i=[],u=new Date(e),a=new Date(n);u<=a;)i.push(new Date(u).toISOString()),u.setTime(u.getTime()+o);return i},m=function(t){var e=t.start,n=t.end,r=t.duration;return _({start:e,end:n,duration:r}).map((function(t){return{start:new Date(t),end:new Date(new Date(t).getTime()+f().duration(r).asMilliseconds())}}))},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=t.duration,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.start,u=o.end;if(!i||!u)return{count:D({start:e,end:n,duration:r}),start:e,end:n};var a=f().duration(r).asMilliseconds(),c=new Date(e).getTime(),E=new Date(n).getTime(),s=new Date(i).getTime(),d=new Date(u).getTime(),O=Math.ceil((s-c)/a),l=Math.floor((d-c)/a),p=Math.floor((E-c)/a);if(O>=0&&l<=p){var S=l-O;return{start:new Date(c+Math.max(0,O)*a),end:new Date(c+Math.min(p,l)*a),count:S}}return{count:D({start:e,end:n,duration:r}),start:e,end:n}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=arguments.length>1?arguments[1]:void 0,o=new Date(e),i=new Date(n),u=Math.floor(i.getTime()-o.getTime())/r;return{range:{start:e,end:n},resolution:f().duration(u).toISOString().match(R)[0]}},h=function(){var t,e,n=arguments.length>1?arguments[1]:void 0,r=(t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],(e=arguments.length>2?arguments[2]:void 0)?t.map((function(t){var n=p(t.split("/"),2);return{start:n[0],end:n[1]}[e]})):t);return r[function(t,e){var n=v(e),r=1/0,o=-1;return t.forEach((function(t,e){var i=v(t),u=Math.abs(i-n);u<r&&(r=u,o=e)})),o}(r,n)]},N=function(t){return t&&t.indexOf&&t.indexOf("--")>0},C=function(t,e){var n=f()(t).diff(e);return{start:n>=0?e:t,end:n>=0?t:e}},U=function(t){return 6e4*t.getTimezoneOffset()},I=function(t){var e=t;!u()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCHours();n=n<10?"0"+n:n;var r=e.getUTCMinutes();r=r<10?"0"+r:r;var i=e.getUTCSeconds();return i=i<10?"0"+i:i,"".concat(n,":").concat(r,":").concat(i)},G=function(t){var e=t;!u()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCMonth()+1,r=e.getUTCDate();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,"".concat(e.getUTCFullYear(),"-").concat(n,"-").concat(r)},A=function(t,e){var n=(0,O.mh)(t),r="HH:mm:SS";switch(e){case"time":return r;case"date":return n;default:return n+" "+r}},w=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Domains,e=void 0===t?{}:t,n=arguments.length>1?arguments[1]:void 0,r=s()(e.DimensionDomain||[]).concat(),o=e["@version"]||e.version,i=c()(e,"SpaceDomain.BoundingBox");return i&&r.push({Identifier:"space",Domain:i}),r.map((function(t){var e=t.Identifier,r=t.Domain;return{source:{type:"multidim-extension",version:o,url:n},name:e,domain:r}}))},b=function(t,e,n){var r=v(e),o=v(n);return t.reduce((function(t,e){var n=v(e);return v(r)<n&&v(o)>n?[].concat(l(t),[e]):l(t)}),[])},M=function(t){var e=t.reduce((function(t,e){if(-1!==e.indexOf("/")){var n=p(e.split("/"),2),r=n[0],o=n[1];return[].concat(l(t),[r,o])}return[].concat(l(t),[e])}),[]).sort();return[e[0],e[e.length-1]]},P=function(t,e,n){var r=f()(t);return("add"===n?r.add(e,"seconds"):r.subtract(e,"seconds")).toISOString()}},643892:(t,e,n)=>{"use strict";n.d(e,{W:()=>r,Zf:()=>o,ac:()=>i,Eu:()=>u,Vy:()=>a,I:()=>c,YB:()=>E,xm:()=>s,_f:()=>d,ek:()=>f,cd:()=>O,pt:()=>l,ww:()=>p,tR:()=>S,Js:()=>y,p2:()=>R,ZH:()=>v,eQ:()=>D,ql:()=>_,$X:()=>m,nS:()=>T,ih:()=>g,J5:()=>h,uA:()=>N,Pv:()=>C,_Z:()=>U,dh:()=>I,IH:()=>G,e3:()=>A,Oq:()=>w,Q$:()=>b,DF:()=>M,z1:()=>P,id:()=>F,Br:()=>L,bI:()=>B,U5:()=>H,e5:()=>x,b3:()=>j,mN:()=>k,QN:()=>Q,Ao:()=>W,HV:()=>V,xe:()=>Y,vA:()=>Z,gw:()=>$,qs:()=>q,CB:()=>z,vg:()=>J,Z0:()=>X,lf:()=>K,jQ:()=>tt,nk:()=>et,X7:()=>nt,nO:()=>rt,F4:()=>ot,EU:()=>it,Rk:()=>ut,V1:()=>at});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",i="GEONODE:SET_LAYER_RESOURCE",u="GEONODE:RESOURCE_ERROR",a="GEONODE:UPDATE_RESOURCE_PROPERTIES",c="GEONODE:UPDATE_LAYER_RESOURCE_PROPERTIES",E="GEONODE:SET_RESOURCE_TYPE",s="GEONODE:SET_NEW_RESOURCE",d="GEONODE:SET_RESOURCE_ID",f="GEONODE:SET_RESOURCE_PERMISSIONS",O="GEONODE:EDIT_TITLE_RESOURCE",l="GEONODE:EDIT_ABSTRACT_RESOURCE",p="GEONODE:EDIT_THUMBNAIL_RESOURCE",S="GEONODE:SET_FAVORITE_RESOURCE",y="GEONODE:SET_MAP_THUMBNAIL",R="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",v="GEONODE:REQUEST_RESOURCE_CONFIG",D="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",_="GEONODE:LOADING_RESOURCE_CONFIG",m="GEONODE:RESET_RESOURCE_STATE",T="GEONODE:RESOURCE_CONFIG_ERROR",g="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",h="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",N="GEONODE:RESET_GEO_LIMITS",C="GEONODE:PROCESS_RESOURCES",U="GEONODE_SET_RESOURCE_THUMBNAIL",I="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",G="GEONODE_DOWNLOAD_RESOURCE",A="GEONODE_DOWNLOAD_COMPLETE",w="GEONODE_UPDATE_SINGLE_RESOURCE";function b(){return{type:r}}function M(t,e){return{type:o,data:t,pending:e}}function P(t,e){return{type:i,data:t,pending:e}}function F(t){return{type:w,data:t}}function L(t){return{type:O,title:t}}function B(t){return{type:l,abstract:t}}function H(t){return{type:p,thumbnailUrl:t,thumbnailChanged:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"}}function x(){return{type:U}}function j(t){return{type:E,resourceType:t}}function k(t){return{type:u,error:t}}function Q(t){return{type:a,properties:t}}function W(t){return{type:c,properties:t}}function V(){return{type:s}}function Y(t){return{type:d,id:t}}function Z(t){return{type:R,permissions:t}}function $(t){return{type:S,favorite:t}}function q(t){return{type:I,enabled:t}}function z(t){return{type:y,bbox:t}}function J(t,e,n){return{type:v,resourceType:t,pk:e,options:n}}function X(t){return{type:D,resourceType:t}}function K(t){return{type:_,loading:t}}function tt(t){return{type:T,message:t}}function et(){return{type:m}}function nt(t){return{type:g,compactPermissions:t}}function rt(t){return{type:h,compactPermissions:t}}function ot(){return{type:N}}function it(t,e,n){return{type:C,processType:t,resources:e,redirectTo:n}}function ut(t){return{type:G,resource:t}}function at(t){return{type:A,resource:t}}},489514:(t,e,n)=>{"use strict";n.d(e,{B9:()=>d,dl:()=>f,jg:()=>O});var r=n(375875),o=n.n(r),i=n(686),u=n(169141),a=n(455877),c=n.n(a),E=new i.Z,s=new u.Z,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().get("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return function(t){try{var e,n,r=E.readFeatures(t),o=JSON.parse(s.writeFeatures(r)),i=null==o||null===(e=o.features)||void 0===e?void 0:e[0];return{type:"FeatureCollection",features:((null==i||null===(n=i.geometry)||void 0===n?void 0:n.coordinates)||[]).map((function(t){var e=c()();return{type:"Feature",properties:{id:e},id:e,geometry:{type:"Polygon",coordinates:t}}}))}}catch(t){return{type:"FeatureCollection",features:[]}}}(t.data)}))},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",r=function(t){try{var e=t.features.reduce((function(t,e){var n;return"Polygon"===(null==e||null===(n=e.geometry)||void 0===n?void 0:n.type)&&t.geometry.coordinates.push(e.geometry.coordinates),t}),{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:[]}}),n=s.readFeatures(e);return E.writeFeatures(n)}catch(t){return{}}}(arguments.length>3?arguments[3]:void 0);return o().post("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e),r).then((function(t){return t.data}))},O=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().delete("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return t.data}))}}}]);