(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6895],{881808:(e,t,n)=>{"use strict";n.d(t,{eD:()=>r,AM:()=>o,ok:()=>i,Gg:()=>l,nT:()=>u,TL:()=>a,KS:()=>c,EB:()=>s,DZ:()=>f,Aw:()=>p,V_:()=>d,H0:()=>y,jW:()=>m,JZ:()=>v,fQ:()=>b,HK:()=>g,YO:()=>O,I6:()=>h});var r="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",l="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",a="MAP_INFO_LOAD_START",c="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",d="MAP:RESET_MAP_SAVE_ERROR";function y(e,t,n){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:n}}function m(e,t){return{type:l,error:e,mapId:t}}function v(e,t,n,r,i){return{type:o,configName:e,mapId:t,config:n,mapInfo:r,overrideConfig:i}}function b(e,t){return{type:c,mapId:t,info:e,merge:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function g(e,t){return{type:s,mapId:e,error:t}}function O(e){return{type:a,mapId:e}}function h(e){return{type:u,mapId:e}}},580416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>l,OX:()=>u,sb:()=>a,K$:()=>c,k7:()=>s,cX:()=>f,x9:()=>p,vs:()=>d,oE:()=>y,Po:()=>m,qv:()=>v,cI:()=>b,g6:()=>g,I4:()=>O,l$:()=>h,Xv:()=>E,k3:()=>S,CQ:()=>P,R8:()=>w,HN:()=>j,sH:()=>T,c7:()=>A,_7:()=>R,eF:()=>I,O6:()=>C,ED:()=>_,RP:()=>L,sF:()=>x,VP:()=>N,He:()=>G,vO:()=>D,WO:()=>M,bh:()=>k,MK:()=>Z,ZF:()=>F,tV:()=>U,Dv:()=>Y,Yz:()=>H,kI:()=>B,XG:()=>z,A4:()=>$,Rp:()=>V,$o:()=>W,ct:()=>K,oh:()=>X,$h:()=>J,ud:()=>q,Qr:()=>Q,LR:()=>ee,nN:()=>te,UG:()=>ne,c9:()=>re,Xy:()=>oe});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",l="TOGGLE_NODE",u="SORT_NODE",a="REMOVE_NODE",c="UPDATE_NODE",s="MOVE_NODE",f="LAYER_LOADING",p="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",m="ADD_GROUP",v="REMOVE_LAYER",b="SHOW_SETTINGS",g="HIDE_SETTINGS",O="UPDATE_SETTINGS",h="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",w="LAYERS:BROWSE_DATA",j="LAYERS:DOWNLOAD",T="LAYERS:CLEAR_LAYERS",A="LAYERS:SELECT_NODE",R="LAYERS:FILTER_LAYERS",I="LAYERS:SHOW_LAYER_METADATA",C="LAYERS:HIDE_LAYER_METADATA",_="LAYERS:UPDATE_SETTINGS_PARAMS";function L(e,t,n){return{type:b,node:e,nodeType:t,options:n}}function x(){return{type:g}}function N(e){return{type:O,options:e}}function G(e,t){return{type:r,newProperties:t,layer:e}}function D(e,t){return{type:o,layer:e,params:t}}function M(e,t){return{type:i,newProperties:t,group:e}}function k(e,t,n){return{type:l,node:e,nodeType:t,status:!n}}function Z(e,t){return{type:u,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function F(e,t){return{type:a,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function U(e,t,n){return{type:c,node:e,nodeType:t,options:n}}function Y(e,t,n){return{type:s,node:e,groupId:t,index:n}}function H(e){return{type:f,layerId:e}}function B(e,t){return{type:p,layerId:e,error:t}}function z(e,t,n){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:n}}function $(e){return{type:y,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function V(e,t,n){return{type:m,group:e,parent:t,options:n,asFirst:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function W(e){return{type:v,layerId:e}}function K(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:S,layers:e}}function J(e,t){return{type:P,layers:e,error:t}}function q(e,t,n,r){return{type:E,dimension:e,value:t,options:n,layers:r}}function Q(e){return{type:w,layer:e}}function ee(e){return{type:j,layer:e}}function te(){return{type:T}}function ne(e,t,n){return{type:A,id:e,nodeType:t,ctrlKey:n}}function re(e,t){return{type:I,metadataRecord:e,maskLoading:t}}function oe(e,t){return{type:_,newParams:e,update:t}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>l,uv:()=>u,Qy:()=>a,IL:()=>c,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>d,TF:()=>y,Ls:()=>m,Ec:()=>v,Eu:()=>b,JJ:()=>g,nZ:()=>O,YD:()=>h,GI:()=>E,Jb:()=>S,Uh:()=>P,e$:()=>w,eh:()=>j,$j:()=>T,bJ:()=>A,Mk:()=>R,xy:()=>I,o6:()=>C,NH:()=>_,FP:()=>L,Mo:()=>x,sO:()=>N,Px:()=>G,hd:()=>D,y9:()=>M,Ju:()=>k,BV:()=>Z,SO:()=>F,H0:()=>U,$X:()=>Y,ou:()=>H,NE:()=>B,Lq:()=>z,aN:()=>$});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",l="CHANGE_ZOOM_LVL",u="PAN_TO",a="ZOOM_TO_EXTENT",c="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",y="CREATION_ERROR_LAYER",m="UPDATE_VERSION",v="INIT_MAP",b="RESIZE_MAP",g="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",E="UNREGISTER_EVENT_LISTENER",S="MOUSE_MOVE",P="MOUSE_OUT",w="MAP:MAP_PLUGIN_LOAD",j="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",A="MAP:UPDATE_MAP_OPTIONS";function R(e,t,n,r){return{type:w,mapType:t,loading:e,loaded:n,error:r}}function I(e,t,n){return{type:c,pos:e,zoom:t,crs:n}}function C(e,t,n,o,i,l,u,a){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:l,viewerOptions:u,resolution:a}}function _(e){return{type:s,crs:e}}function L(e,t){return{type:o,point:e,layer:t}}function x(e){return{type:i,pointer:e}}function N(e,t){return{type:l,zoom:e,mapStateSource:t}}function G(e,t,n,r){return{type:a,extent:e,crs:t,maxZoom:n,options:r}}function D(e,t){return{type:p,style:e,mapStateSource:t}}function M(e){return{type:v,disableFeedbackMask:e}}function k(){return{type:b}}function Z(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:g,restrictedExtent:t,crs:n,minZoom:r}}function F(e){return{type:O,resolutions:e}}var U=function(e,t){return{type:h,eventName:e,toolName:t}},Y=function(e,t){return{type:E,eventName:e,toolName:t}},H=function(e){return{type:S,position:e}},B=function(){return{type:P}},z=function(e){return{type:j,orientation:e}},$=function(e){return{type:A,configUpdate:e}}},572688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(124852),o=n.n(r),i=n(45697),l=n.n(i),u=n(38560),a=n(843614),c=n(472986),s=n.n(c);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function y(e,t,n){return t=v(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(e=y(this,t,[].concat(r)),"onConfirm",(function(){e.props.onConfirm()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=o().createElement("span",{role:"footer"},o().createElement("div",{style:{float:"left"}}),o().createElement(u.Z,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:function(){e.onConfirm()}},this.props.running?o().createElement(s(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?o().createElement(u.Z,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):o().createElement("span",null)),n=this.props.body;return o().createElement(a.Z,p({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),o().createElement(a.Z.Header,{key:"dialogHeader",closeButton:!0},o().createElement(a.Z.Title,null,this.props.titleText)),o().createElement(a.Z.Body,null,n),o().createElement(a.Z.Footer,null,t))}}])&&d(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);g(h,"propTypes",{className:l().string,show:l().bool,options:l().object,onConfirm:l().func,onClose:l().func,closeGlyph:l().string,style:l().object,buttonSize:l().string,includeCloseButton:l().bool,body:l().oneOfType([l().string,l().element]),titleText:l().oneOfType([l().string,l().element]),confirmText:l().oneOfType([l().string,l().element]),cancelText:l().oneOfType([l().string,l().element]),running:l().bool}),g(h,"defaultProps",{onConfirm:function(){},onClose:function(){},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"});const E=h},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(480681),o=n(124852),i=n.n(o),l=n(294184),u=n.n(l),a=["disabled","className","onClick"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}var s=n(815135);const f=(p=r.zx,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,l=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a);return i().createElement(p,c({ref:t,className:n?u()("disabled",r):r,onClick:function(){n||l.apply(void 0,arguments)}},s),s.children)})));var p;(0,s.Z)(r.zx)},843614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(727418),o=n.n(r),i=n(480681),l=n(461365);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}function s(e,t,n){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}],r&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(i.u_);const m=o()((0,l.Z)(y),{Body:i.u_.Body,Dialog:i.u_.Dialog,Footer:i.u_.Footer,Header:i.u_.Header,Title:i.u_.Title})},399534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(461365),o=n(356936);const i=(0,r.Z)(o.h_)},993451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(86638),o=n(285547),i=n(45697),l=n.n(i),u=n(984596),a=n.n(u),c=n(701469),s=n.n(c),f=n(414293),p=n.n(f),d=n(747037),y=n.n(d),m=n(867076),v=["messages","locale"];function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"msgId";return(0,m.compose)((0,m.getContext)({messages:l().object,locale:l().string}),(0,m.mapProps)((function(i){var l=i.messages,u=i.locale,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(i,v);return O(O({},c),a()(e).reduce(function(e,t,n){var i=t.messages,l=t.locale,u=t.mode;return function(){var t=arguments.length>1?arguments[1]:void 0;return O(O({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},h({},t,"msgId"===u?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(t))return t.map((function(o){var i=(0,r.S$)(e,o[n]||y()(o)&&o||"");return O(O({},o),{},h({},n,p()(i)?t:i))}));var o=t?(0,r.S$)(e,t):t;return p()(o)?t:o}(i,e[t],n):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(e))return e.map((function(r){var i=(0,o.Z)(r[n]||y()(r)&&r||"",t);return O(O({},r),{},h({},n,p()(i)?e:i))}));var r=(0,o.Z)(e,t);return p()(r)?e:r}(e[t],l,n)))}}(c,{locale:u,messages:l,mode:n},t),{}))})))}},247691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>bt});var r=n(124852),o=n.n(r),i=n(480681),l=n(171703),u=n(580416),a=n(675110),c=n(274621),s=n(308316),f=n(800827),p=n(38842),d=n(322843),y=n(784715),m=n(624262),v=n(815430),b=n(618446),g=n.n(b),O=n(598611),h=n.n(O);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(null,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=n(490173),I=n(944908),C=n.n(I),_=n(801550),L=n(805346),x=n(813292),N=n.n(x),G=["onZoomTo","status","itemComponent","selectedNodes","statusTypes"];function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(null,arguments)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){return null!=e&&e.nodes?function(e){if(Array.isArray(e))return k(e)}(t=((null==e?void 0:e.nodes)||[]).map(Y).flat())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():e;var t};const H=(0,l.connect)((function(){return{}}),{onZoomTo:_.Px})((function(e){var t,n=e.onZoomTo,r=e.status,i=e.itemComponent,l=e.selectedNodes,u=e.statusTypes,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,G),c=i;if([u.LAYER,u.GROUP,u.LAYERS,u.GROUPS,u.BOTH].includes(r)){var s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t;if("vector"===e.type&&!e.bbox&&null!=e&&null!==(t=e.features)&&void 0!==t&&t.length){var n=N()({type:"FeatureCollection",features:e.features});return F(F({},e),{},{bbox:{bounds:{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]},crs:"EPSG:4326"}})}return e}))}(Y({nodes:l.map((function(e){return null==e?void 0:e.node}))})).filter((function(e){return null==e?void 0:e.bbox})),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=C()(e.map((function(e){var t;return null==e||null===(t=e.bbox)||void 0===t?void 0:t.crs})).filter((function(e){return!!e})));return 1===t.length?t[0]:""}(s);if(!f)return null;var p=f&&R.default.defs(f),d=(t=s.filter((function(e){return e.bbox})).map((function(e){return F(F({},e.bbox),{},{bounds:{minx:parseFloat(e.bbox.bounds.minx),miny:parseFloat(e.bbox.bounds.miny),maxx:parseFloat(e.bbox.bounds.maxx),maxy:parseFloat(e.bbox.bounds.maxy)}})}))).length>1?t.reduce((function(e,t){return{bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs}}),t[0]):t[0];return d?o().createElement(c,M({},a,{glyph:"zoom-to",style:p?{opacity:1,cursor:"pointer"}:{opacity:.5,cursor:"default"},labelId:s.length>1?"toc.toolZoomToLayersTooltip":"toc.toolZoomToLayerTooltip",tooltip:p?o().createElement(L.Z,{msgId:s.length>1?"toc.toolZoomToLayersTooltip":"toc.toolZoomToLayerTooltip"}):o().createElement(L.Z,{msgId:"toc.epsgNotSupported",msgParams:{epsg:f||" "}}),onClick:p?function(){return n(d.bounds,d.crs)}:function(){}})):null}return null}));var B=["onShow","onReload","status","itemComponent","selectedNodes","statusTypes"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}const $=(0,l.connect)((function(){return{}}),{onShow:u.He,onReload:u.ct})((function(e){var t=e.onShow,n=e.onReload,r=e.status,i=e.itemComponent,l=e.selectedNodes,u=e.statusTypes,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,B),c=i;if([u.LAYER,u.LAYERS].includes(r)){var s=l.filter((function(e){var t;return"Error"===(null==e||null===(t=e.node)||void 0===t?void 0:t.loadingError)}));if(null==s||!s.length)return null;var f=s.some((function(e){var t;return!(null==e||null===(t=e.node)||void 0===t||!t.loading)}));return o().createElement(c,z({},a,{glyph:"refresh",disabled:f,labelId:s.length>1?"toc.toolReloadLayersTooltip":"toc.toolReloadLayerTooltip",tooltipId:s.length>1?"toc.toolReloadLayersTooltip":"toc.toolReloadLayerTooltip",onClick:function(){s.map((function(e){return e.node})).forEach((function(e){t(e.id,{visibility:!0}),n(e.id)}))}}))}return null}));var V=n(572688),W=n(399534),K=["onRemove","status","itemComponent","selectedNodes","statusTypes","nodeTypes","config","rootGroupId"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(null,arguments)}function J(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){return[].concat(J(null!=e&&e.id?[e]:[]),J(((null==e?void 0:e.nodes)||[]).map(ee).flat()))},te=(0,l.connect)((function(){return{}}),{onRemove:u.ZF})((function(e){var t,n,i,l=e.onRemove,u=e.status,a=e.itemComponent,c=e.selectedNodes,s=e.statusTypes,f=e.nodeTypes,p=e.config,d=e.rootGroupId,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,K),m=a,v=(n=(0,r.useState)(null),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(n,i)||q(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=v[0],g=v[1];if((null==c||null===(t=c[0])||void 0===t?void 0:t.id)===d)return null;if(!1===p.activateRemoveLayer&&[s.LAYER,s.LAYERS].includes(u))return null;if(!1===p.activateRemoveGroup&&[s.GROUP,s.GROUPS].includes(u))return null;var O=[s.GROUP,s.GROUPS,s.BOTH].includes(u),h=s.LAYER===u;return o().createElement(o().Fragment,null,[s.LAYER,s.LAYERS,s.GROUP,s.GROUPS,s.BOTH].includes(u)?o().createElement(m,X({},y,{glyph:"trash",active:b,labelId:O?"toc.toolTrashGroupTooltip":h?"toc.toolTrashLayerTooltip":"toc.toolTrashLayersTooltip",tooltipId:O?"toc.toolTrashGroupTooltip":h?"toc.toolTrashLayerTooltip":"toc.toolTrashLayersTooltip",onClick:function(){return g({nodes:c.map((function(e){return e.node}))})}})):null,o().createElement(W.Z,null,o().createElement(V.Z,{options:{animation:!1,className:"modal-fixed"},show:!!b,onHide:function(){return g(null)},onClose:function(){return g(null)},onConfirm:function(){var e=(b||{}).nodes;ee({id:null,nodes:e}).forEach((function(e){l(e.id,null!=e&&e.nodes?f.GROUP:f.LAYER)})),g(null)},titleText:O?o().createElement(L.Z,{msgId:"layerProperties.deleteLayerGroup"}):o().createElement(L.Z,{msgId:"layerProperties.deleteLayer"}),confirmText:o().createElement(L.Z,{msgId:"layerProperties.delete"}),cancelText:o().createElement(L.Z,{msgId:"cancel"}),body:O?o().createElement(L.Z,{msgId:"layerProperties.deleteLayerGroupMessage"}):o().createElement(L.Z,{msgId:"layerProperties.deleteLayerMessage"})})))}));const ne=te;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}var oe=["status","onChange","itemComponent","selectedNodes","statusTypes","nodeTypes","rootGroupId"];function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(null,arguments)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return(t=function(e){var t=function(e){if("object"!=re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return[].concat(ce(null!=e&&e.id?[e]:[]),ce((t(e)&&(null==e?void 0:e.nodes)||[]).map((function(e){return fe(e,t)})).flat()))};const pe=(0,l.connect)((function(){return{}}),{onChange:u.tV})((function(e){var t=e.status,n=e.onChange,r=e.itemComponent,i=e.selectedNodes,l=e.statusTypes,u=e.nodeTypes,a=e.rootGroupId,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,oe),s=r;if([l.GROUP].includes(t)){var f,p,d,y,m=null==i?void 0:i[0];return o().createElement(o().Fragment,null,!(null!=m&&null!==(f=m.node)&&void 0!==f&&f.nodesMutuallyExclusive)&&o().createElement(s,ie({},c,{labelId:"toc.toolGroupShowAllChildren",glyph:"checkbox-on",onClick:function(){fe(ue(ue({},null==m?void 0:m.node),{},{id:null}),(function(e){return!(null!=e&&e.nodesMutuallyExclusive)})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!0})}))}})),!(null!=m&&null!==(p=m.node)&&void 0!==p&&p.nodesMutuallyExclusive)&&o().createElement(s,ie({},c,{labelId:"toc.toolGroupHideAllChildren",glyph:"checkbox-off",onClick:function(){fe(ue(ue({},null==m?void 0:m.node),{},{id:null}),(function(e){return!(null!=e&&e.nodesMutuallyExclusive)})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!1})}))}})),m.id!==a&&o().createElement(s,ie({},c,{labelId:null!=m&&null!==(d=m.node)&&void 0!==d&&d.nodesMutuallyExclusive?"toc.deactivateToolGroupMutuallyExclusive":"toc.activateToolGroupMutuallyExclusive",glyph:null!=m&&null!==(y=m.node)&&void 0!==y&&y.nodesMutuallyExclusive?"radio-on":"radio-off",onClick:function(){var e,t,r=!(null!=m&&null!==(e=m.node)&&void 0!==e&&e.nodesMutuallyExclusive);r&&null!=m&&null!==(t=m.node)&&void 0!==t&&t.nodes&&m.node.nodes.forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{visibility:!1})})),n(null==m?void 0:m.id,null==m?void 0:m.type,{nodesMutuallyExclusive:r})}})),o().createElement(s,ie({},c,{labelId:"toc.toolGroupCollapseAllChildren",glyph:"next",onClick:function(){fe(ue(ue({},null==m?void 0:m.node),{},{id:null})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{expanded:!1})}))}})),o().createElement(s,ie({},c,{labelId:"toc.toolGroupExpandAllChildren",glyph:"bottom",onClick:function(){fe(ue(ue({},null==m?void 0:m.node),{},{id:null})).forEach((function(e){n(null==e?void 0:e.id,null!=e&&e.nodes?u.GROUP:u.LAYER,{expanded:!0})}))}})),o().createElement("hr",null))}return null}));var de="TOC:UPDATE_CONFIG",ye=["itemComponent","selectedNodes","rootGroupId","onUpdateTOCConfig","config"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(null,arguments)}var ve=(0,l.connect)((function(){return{}}),{onUpdateTOCConfig:function(e){return{type:de,payload:e}}})((function(e){var t=e.itemComponent,n=e.selectedNodes,r=e.rootGroupId,i=e.onUpdateTOCConfig,l=e.config,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ye),a=t,c=null==n?void 0:n[0];return(null==c?void 0:c.id)===r||null!=u&&u.menuItem?o().createElement(o().Fragment,null,o().createElement(a,me({},u,{labelId:l.defaultOpen?"toc.closeOnMapInitialization":"toc.openOnMapInitialization",glyph:l.defaultOpen?"arrow-left":"arrow-right",onClick:function(){i({defaultOpen:!l.defaultOpen})}})),o().createElement(a,me({},u,{labelId:null!=l&&l.theme?"toc.defaultTheme":"toc.legendTheme",glyph:"list",onClick:function(){i({theme:null!=l&&l.theme?void 0:"legend"})}})),o().createElement(a,me({},u,{labelId:null!=l&&l.showFullTitle?"toc.hideFullTitle":"toc.showFullTitle",glyph:"font",onClick:function(){i({showFullTitle:!(null!=l&&l.showFullTitle)})}})),o().createElement(a,me({},u,{labelId:null!=l&&l.hideOpacitySlider?"toc.showOpacitySlider":"toc.hideOpacitySlider",glyph:"adjust",onClick:function(){i({hideOpacitySlider:!(null!=l&&l.hideOpacitySlider)})}})),!(null!=l&&l.hideOpacitySlider)&&o().createElement(a,me({},u,{labelId:null!=l&&l.showOpacityTooltip?"toc.hideOpacityTooltip":"toc.showOpacityTooltip",glyph:"tag",onClick:function(){i({showOpacityTooltip:!(null!=l&&l.showOpacityTooltip)})}})),o().createElement("hr",null)):null}));const be=ve;var ge=n(815135),Oe=n(38560);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(null,arguments)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return(t=function(e){var t=function(e){if("object"!=he(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=(0,ge.Z)(Oe.Z);const Te=function(e){var t=e.contextMenu,n=e.onClick,r=e.label,l=e.labelId,u=e.glyph,a=e.buttonProps,c=e.tooltipId,s=e.tooltip,f=e.active,p=e.style,d=e.className,y=e.disabled;return e.menuItem?o().createElement(i.sN,{active:f,disabled:y,onClick:n},u?o().createElement(o().Fragment,null,o().createElement(i.gG,{glyph:u})):null,l||c?o().createElement(L.Z,{msgId:l||c}):r||ge.Z):t?o().createElement("button",{className:f?"active":"",disabled:y,onClick:n},u?o().createElement(o().Fragment,null,o().createElement(i.gG,{glyph:u})):null,l?o().createElement(L.Z,{msgId:l}):r):o().createElement(je,Ee({},a,{style:Pe(Pe({},null==a?void 0:a.style),p),className:[null==a?void 0:a.className,d].join(" "),disabled:y,active:f,tooltipId:c,tooltip:s,onClick:n}),o().createElement(i.gG,{glyph:u}))};function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(null,arguments)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ge=function(e){var t=e.items,n=void 0===t?[]:t,l=e.settingsItems,u=void 0===l?[]:l,a=e.selectedNodes,c=void 0===a?[]:a,s=e.buttonProps,f=void 0===s?{className:"toc-toolbar-button",bsStyle:"primary"}:s,p=e.nodeTypes,d=void 0===p?m.$P:p,y=e.rootGroupId,b=void 0===y?m.oR:y,g=e.defaultGroupId,O=void 0===g?m.tE:g,h=e.statusTypes,E=void 0===h?v.Sk:h,S=e.config,P=void 0===S?{}:S,w=(0,r.useRef)(),j=Le((0,r.useState)(),2),T=j[0],A=j[1],R=c.filter((function(e){return e.type===d.GROUP})).map((function(e){return e.node})),I=c.filter((function(e){return e.type===d.LAYER})).map((function(e){return e.node})),C={buttonProps:f,selectedLayers:I,selectedGroups:R,selectedNodes:c,status:null!=c&&c.length?1===(null==c?void 0:c.length)?1===(null==R?void 0:R.length)?E.GROUP:E.LAYER:null!=R&&R.length&&null!=I&&I.length?E.BOTH:null!=R&&R.length?E.GROUPS:E.LAYERS:E.DESELECT,statusTypes:E,nodeTypes:d,rootGroupId:b,defaultGroupId:O,itemComponent:Te,config:P};(0,r.useEffect)((function(){var e=new MutationObserver((function(){var e,t=w.current.clientWidth,n=w.current.scrollWidth;if(t<n){var r=function(e,t){return e.filter((function(e,n){return n<=t})).reduce((function(e,t){return e+t}),0)},o=(e=w.current.children,function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.clientWidth})).map((function(e,t,n){return[r(n,t-1),t,e]})).find((function(e){var n=Le(e,3);return n[0]+n[2]>t}));return A(o)}return A()}));return e.observe(w.current,{childList:!0,subtree:!0}),function(){e.disconnect()}}),[]);var _=n.filter((function(e){var t=e.selector;return(void 0===t?function(){return!0}:t)(C)})),L=Le(T||[],2),x=L[0],N=L[1];return o().createElement("div",{className:"ms-toc-toolbar-container",style:{display:"flex",position:"relative"}},o().createElement("div",{className:"ms-toc-toolbar",style:{overflow:"hidden",display:"flex",flex:1}},o().createElement("div",{className:"ms-toc-toolbar-content",ref:w,style:{overflow:"hidden",textWrap:"nowrap"}},_.map((function(e,t){var n=e.Component,r=e.name;return o().createElement("div",{key:null!=r?r:"item-".concat(t),style:Ce({display:"inline-block"},N&&t>=N&&{visibility:"hidden"})},o().createElement(n,C))}))),o().createElement("div",{className:"ms-toc-toolbar-dropdown"},o().createElement(i.Lt,{id:"ms-toc-toolbar-dropdown",pullRight:!0,style:Ce({position:"absolute",left:x},void 0===N&&{visibility:"hidden"})},o().createElement(i.Lt.Toggle,{noCaret:!0},o().createElement(i.gG,{glyph:"option-vertical"})),o().createElement(i.Lt.Menu,null,void 0!==N&&_.filter((function(e,t){return t>=N})).map((function(e,t){var n=e.Component,r=e.name;return o().createElement(n,Re({key:null!=r?r:"item-".concat(t)},C,{menuItem:!0}))})))))),null!=u&&u.length?o().createElement(i.Lt,{id:"ms-toc-toolbar-settings",pullRight:!0},o().createElement(i.Lt.Toggle,{noCaret:!0},o().createElement(i.gG,{glyph:"cog"})),o().createElement(i.Lt.Menu,null,u.map((function(e,t){var n=e.Component,r=e.name;return o().createElement(n,Re({key:null!=r?r:"item-".concat(t)},C,{menuItem:!0}))})))):null)};var De=n(462104),Me=n(180307),ke=n(737275),Ze=n(623560),Fe=n.n(Ze);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(null,arguments)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const We=function(e){var t=e.items,n=void 0===t?[]:t,i=e.value,l=e.onClick,u=void 0===l?function(){}:l,a=e.onClose,c=void 0===a?function(){}:a,s=e.show,f=e.position,p=e.containerNode,d=void 0===p?function(){return document.querySelector("."+((0,ke.u8)("themePrefix")||"ms2")+" > div")||document.body}:p,y=e.statusTypes,b=void 0===y?v.Sk:y,g=e.nodeTypes,O=void 0===g?m.$P:g,h=e.rootGroupId,E=void 0===h?m.oR:h,S=e.defaultGroupId,P=void 0===S?m.tE:S,w=e.config,j=Fe()(d)?d():d,T=(0,r.useRef)(),A=$e((0,r.useState)({}),2),R=A[0],I=A[1];(0,r.useEffect)((function(){function e(e){var t;(null==T||null===(t=T.current)||void 0===t?void 0:t.contains)&&!T.current.contains(e.target)&&c()}return window.addEventListener("pointerdown",e),function(){window.removeEventListener("pointerdown",e)}}),[T]),(0,r.useLayoutEffect)((function(){if(f){var e,t=$e(f,2),n=t[0],r=t[1],o=window.innerWidth,i=window.innerHeight,l=null==T||null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect(),u=l.height,a=l.width,c=r+u>i?"-100%":"0";I({transform:"translate(".concat(n+a>o?"-100%":"0",", ").concat(c,")"),top:r,left:n})}}),[f]);var C,_={selectedNodes:[i],status:(C=null==i?void 0:i.type)===O.LAYER?b.LAYER:C===O.GROUP?b.GROUP:null,statusTypes:b,nodeTypes:O,rootGroupId:E,defaultGroupId:P,config:w,itemComponent:Te};return(0,Me.createPortal)(o().createElement("div",{ref:T,className:"ms-context-menu",style:Be(Be({},R),{},{position:"fixed",display:s?"flex":"none",flexDirection:"column",zIndex:5e3}),onClick:u},n.filter((function(e){var t=e.selector;return(void 0===t?function(){return!0}:t)(_)})).map((function(e){var t=e.name,n=e.Component;return o().createElement(n,Ye({key:t},_,{contextMenu:!0}))}))),j)};var Ke=n(552259),Xe=n(93152),Je=n(993451),qe=n(658422),Qe=n(881808);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=function(e){var t=function(e){if("object"!=et(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=n(782904);function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return(t=function(e){var t=function(e){if("object"!=it(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==it(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,u=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"==typeof e)return pt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dt=(0,ge.Z)(i.zx),yt=(0,Je.Z)("placeholder")(i.NI);(0,qe.Fd)("toc",(function(e){var t;return null==e||null===(t=e.toc)||void 0===t?void 0:t.config}));var mt=(0,y.oz)(g())((function(e){return e.controls&&e.controls.toolbar&&"toc"===e.controls.toolbar.active}),a.Bt,a.l2,a.NP,c.np,f.Od,f.Zs,s.Pz,s.KV,p.wk,(function(e){var t=(0,f.Od)(e),n=(null==t?void 0:t.resolutions)||(0,Ke.MR)()||[];return{resolutions:n,resolution:n[Math.round(null==t?void 0:t.zoom)]}}),Xe.Ai,(function(e,t){var n,r,o,i,l,u,c,s,f,p,d,y=(null==e||null===(n=e.toc)||void 0===n?void 0:n.config)||{},m=(0,a.l2)(e).filter((function(e){return"background"!==e.group})),v=null==e||null===(r=e.toc)||void 0===r?void 0:r.mapLoadedCount,b=null!==(o=y.defaultOpen)&&void 0!==o?o:null==t?void 0:t.defaultOpen;return{init:!!v&&"".concat(v,":").concat(!!b),defaultOpen:null!==(i=y.defaultOpen)&&void 0!==i?i:null==t?void 0:t.defaultOpen,theme:null!==(l=y.theme)&&void 0!==l?l:null==t?void 0:t.theme,hideOpacitySlider:null!==(u=null!==(c=y.hideOpacitySlider)&&void 0!==c?c:null==t?void 0:t.hideOpacitySlider)&&void 0!==u?u:null==t?void 0:t.activateOpacityTool,showFullTitle:null!==(s=y.showFullTitle)&&void 0!==s?s:null==t?void 0:t.showFullTitle,showOpacityTooltip:null!==(f=null!==(p=y.showOpacityTooltip)&&void 0!==p?p:null==t?void 0:t.showOpacityTooltip)&&void 0!==f?f:!(null!=t&&t.hideOpacityTooltip),activateFilterLayer:!!m.length&&(null===(d=null==t?void 0:t.activateFilterLayer)||void 0===d||d)}}),(function(e,t,n,r,o,i,l,u,a,c,s,f,p){var d=s.resolutions,y=s.resolution;return{enabled:e,tree:t,selectedNodes:(0,v.HC)(r,n,t),user:o,title:l,currentLocale:u,language:c?a:null,scales:(0,Ke.yu)(i&&i.projection||"EPSG:3857",i&&i.mapOptions&&i.mapOptions.view&&i.mapOptions.view.DPI||null),zoom:null==i?void 0:i.zoom,resolutions:d,resolution:y,visualizationMode:f,defaultOpen:p.defaultOpen,theme:p.theme,hideOpacitySlider:p.hideOpacitySlider,init:p.init,showFullTitle:p.showFullTitle,showOpacityTooltip:p.showOpacityTooltip,activateFilterLayer:p.activateFilterLayer}})),vt=(0,l.connect)(mt,{onSort:u.Dv,onChange:u.tV,onSelectNode:u.UG,onOpen:ot.Xg.bind(null,"drawer","enabled",!0)})((function(e,t){var n,l=e.tree,u=e.onSort,a=void 0===u?function(){}:u,c=e.onChange,s=void 0===c?function(){}:c,f=e.onSelectNode,p=void 0===f?function(){}:f,y=e.groupNodeComponent,b=e.layerNodeComponent,g=e.items,O=void 0===g?[]:g,E=e.selectedNodes,P=e.addLayersPermissions,j=void 0===P||P,A=e.removeLayersPermissions,R=void 0===A||A,I=e.sortingPermissions,C=void 0===I||I,_=e.addGroupsPermissions,x=void 0===_||_,N=e.removeGroupsPermissions,G=void 0===N||N,D=e.layerInfoToolPermissions,M=void 0!==D&&D,k=e.activateRemoveLayer,Z=void 0===k||k,F=e.activateSortLayer,U=void 0===F||F,Y=e.activateRemoveGroup,B=void 0===Y||Y,z=e.activateAddLayerButton,V=void 0===z||z,W=e.activateAddGroupButton,K=void 0===W||W,X=e.activateLayerInfoTool,J=void 0===X||X,q=e.user,Q=e.title,ee=e.activateFilterLayer,te=void 0===ee||ee,re=e.activateMapTitle,oe=void 0===re||re,ie=e.activateToolsContainer,le=void 0===ie||ie,ue=e.activateZoomTool,ae=void 0===ue||ue,ce=e.hideOpacitySlider,se=void 0!==ce&&ce,fe=e.hideSettings,de=e.activateTitleTooltip,ye=void 0===de||de,me=e.activateLegendTool,ve=void 0===me||me,ge=e.showOpacityTooltip,Oe=void 0===ge||ge,he=e.defaultOpen,Ee=e.theme,Se=e.showFullTitle,Pe=e.groupOptions,we=void 0===Pe?{}:Pe,je=e.layerOptions,Te=void 0===je?{}:je,Ae=e.currentLocale,Re=e.language,Ie=e.scales,Ce=e.zoom,_e=e.resolution,Le=e.resolutions,xe=e.visualizationMode,Ne=e.toolbarButtonProps,Me=e.init,ke=e.onOpen,Ze=function(e,t){var n=q&&"ADMIN"===q.role||!1;return!(!e&&!n)&&t},Fe=(0,v.js)(l),Ue={activateAddLayerButton:Ze(j,V),activateRemoveLayer:Ze(R,Z),sortable:Ze(C,U),activateAddGroupButton:Ze(x,K),activateRemoveGroup:Ze(G,B),activateLayerInfoTool:Ze(M,J),singleDefaultGroup:Fe,hideOpacitySlider:se,defaultOpen:he,theme:Ee,showFullTitle:Se,showOpacityTooltip:Oe},Ye=t.loadedPlugins,He=function(e){var t=e.items,n=e.loadedPlugins,i=e.loaderComponent,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=(0,r.useRef)({});u.current={items:t,loadedPlugins:n,loaderComponent:i};var a=t.map((function(e){return e.name})).join(","),c=h()(Object.keys(n||{}),","),s=(0,r.useMemo)((function(){return function(e){return T(e.items).sort((function(e,t){return e.position>t.position?1:-1})).map((function(t){return w(w({},t),{},{Component:t.Component?function(e){var n=t.Component;return o().createElement(n,S({key:t.id},e,t.cfg,{pluginCfg:t.cfg,items:t.items||[]}))}:(0,d.KB)(t,e.loadedPlugins,e.loaderComponent||o().createElement("div",null))})}))||[]}(u.current)}),[c,a].concat(T(l)));return s}({items:[].concat(st(ae?[{name:"TOCZoomToMenuItem",target:"context-menu",Component:H,position:4},{name:"TOCZoomToMenuItem",target:"toolbar",Component:H,position:4}]:[]),[{name:"TOCReloadLayersMenuItem",target:"context-menu",Component:$,position:9},{name:"TOCRemoveNodesButton",target:"toolbar",Component:ne,position:8},{name:"TOCRemoveNodesMenuItem",target:"context-menu",Component:ne,position:8},{name:"TOCGroupOptionsMenuItem",target:"context-menu",Component:pe,position:1}],st(fe?[]:[{name:"TOCSettings",target:"context-menu",Component:be,position:0}]),st(O)),loadedPlugins:Ye}),Be=st(He).sort((function(e,t){return e.position>t.position?1:-1})),ze=Be.filter((function(e){return"context-menu"===e.target})),$e=Be.filter((function(e){return"toolbar"===e.target})),Ve=Be.filter((function(e){return"node-tool"===e.target})),Ke=Be.filter((function(e){return"node"===e.target})),Xe=ct((0,r.useState)(""),2),Je=Xe[0],qe=Xe[1],Qe=ct((0,r.useState)(null),2),et=Qe[0],tt=Qe[1];(0,r.useEffect)((function(){Me&&he&&ke()}),[Me]);var nt=Fe?null==l||null===(n=l[0])||void 0===n?void 0:n.nodes:l,rt=0===(null==nt?void 0:nt.length);return o().createElement("div",{className:"ms-toc-container".concat(rt?" empty":""),onContextMenu:function(e){e.preventDefault(),tt({id:m.oR,type:m.$P.GROUP,node:Fe?l[0]:{id:null,nodes:l},position:[e.clientX,e.clientY]})}},o().createElement("div",{className:"ms-toc-header"},oe&&Q?o().createElement("div",{className:"ms-toc-title"},o().createElement(i.gG,{glyph:"1-map"})," ",Q," "):null,te?o().createElement("div",{className:"ms-toc-filter"},o().createElement(i.cw,null,o().createElement(i.BZ,null,o().createElement(yt,{placeholder:"toc.filterPlaceholder",value:Je,onChange:function(e){var t;return qe(null==e||null===(t=e.target)||void 0===t?void 0:t.value)}}),Je?o().createElement(i.BZ.Button,null,o().createElement(dt,{tooltipId:"toc.clearFilter",onClick:function(){return qe("")}},o().createElement(i.gG,{glyph:"1-close"}))):o().createElement(i.BZ.Addon,null,o().createElement(i.gG,{glyph:"filter"}))))):null,le?o().createElement(Ge,{items:$e,selectedNodes:E,statusTypes:v.Sk,nodeTypes:m.$P,rootGroupId:m.oR,defaultGroupId:m.tE,config:Ue,buttonProps:Ne,settingsItems:[{name:"TOCSettings",Component:be}]}):null),o().createElement(De.d,{tree:l,filterText:Je,onSort:a,onChange:s,groupNodeComponent:y,layerNodeComponent:b,contextMenu:et,theme:Ee,className:(null==et?void 0:et.id)===m.oR?"focused":"",config:{resolution:_e,resolutions:Le,showFullTitle:Se,visualizationMode:xe,sortable:Ue.sortable,hideOpacitySlider:se,language:Re,currentLocale:Ae,scales:Ie,zoom:Ce,showTitleTooltip:ye,showOpacityTooltip:Oe,groupOptions:we,layerOptions:ut(ut({},Te),{},{hideLegend:!ve})},onContextMenu:function(e){var t=e.event,n=e.node,r=e.nodeType,o=e.parentId;p(),tt({id:null==n?void 0:n.id,node:n,type:r,parentId:o,position:[t.clientX,t.clientY]})},selectedNodes:E,onSelectNode:p,nodeTypes:m.$P,rootGroupId:m.oR,nodeToolItems:Ve,nodeItems:Ke,singleDefaultGroup:Fe}),le?o().createElement(We,{value:et,show:!!et,position:null==et?void 0:et.position,onClick:function(){return tt(null)},onClose:function(){return tt(null)},items:ze,statusTypes:v.Sk,nodeTypes:m.$P,defaultGroupId:m.tE,rootGroupId:m.oR,config:Ue}):null,rt&&o().createElement("div",{className:"toc-empty-message"},o().createElement("div",null,o().createElement(i.gG,{glyph:"1-layer"}),o().createElement("div",null,o().createElement(L.Z,{msgId:"toc.emptyLayerTree"})))))}));const bt=(0,d.rx)("TOC",{component:vt,containers:{DrawerMenu:{name:"toc",position:1,glyph:"1-layer",buttonConfig:{buttonClassName:"square-button no-border",tooltip:"toc.layers"},priority:2}},reducers:{toc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.ok:var n;return nt(nt({},e),{},{mapLoadedCount:(e.mapLoadedCount||0)+1,config:nt({},null==t||null===(n=t.config)||void 0===n?void 0:n.toc)});case de:return nt(nt({},e),{},{config:nt(nt({},null==e?void 0:e.config),t.payload)});default:return e}}}})},788113:(e,t,n)=>{"use strict";n.d(t,{b6:()=>d,PG:()=>y,_x:()=>m,Mm:()=>v,dP:()=>b,SX:()=>g,ZL:()=>O,_S:()=>h,iH:()=>E,R7:()=>S,Q7:()=>P,n7:()=>w,bA:()=>j,hm:()=>T,E2:()=>A,Cb:()=>R,eK:()=>I,Im:()=>C,e8:()=>_,JF:()=>L,kS:()=>x,y:()=>N,l2:()=>G,HN:()=>D,BM:()=>M,O8:()=>k,am:()=>Z,LV:()=>F,CK:()=>U,jU:()=>Y,Qg:()=>H,$c:()=>B});var r=n(22222),o=n(227361),i=n.n(o),l=n(800827),u=n(577215),a=n(274621);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return i()(e,"catalog.services")},y=(0,r.P1)((function(e){return i()(e,"catalog.default.staticServices")}),d,(function(e,t){var n=null==e?void 0:e.default_map_backgrounds;return n?(n.readOnly=!0,f(f({},t),{},{default_map_backgrounds:n})):t})),m=function(e){return i()(e,"catalog.default.tileSizes",[256,512])},v=function(e){return i()(e,"controls.metadataexplorer.group")},b=function(e){return i()(e,"catalog.saving")},g=function(e){return i()(e,"catalog.result")},O=function(e){return i()(e,"catalog.openCatalogServiceList")},h=function(e){return i()(e,"catalog.newService")},E=function(e){return i()(e,"catalog.newService.type","csw")},S=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"]'))},P=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].type'),function(e){return i()(e,'catalog.default.staticServices["'.concat(i()(e,"catalog.selectedService"),'"].type'),"csw")}(e))},w=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].layerOptions'),{})},j=function(e){return i()(e,"catalog.searchOptions")},T=function(e){return i()(e,"catalog.loadingError")},A=function(e){return i()(e,"catalog.loading",!1)},R=function(e){return i()(e,"catalog.selectedService")},I=function(e){return i()(e,"catalog.mode","view")},C=function(e){return i()(e,"catalog.layerError")},_=function(e){return i()(e,"catalog.searchOptions.text","")},L=function(e){return"metadataexplorer"===i()(e,"controls.toolbar.active")||i()(e,"controls.metadataexplorer.enabled")},x=function(e){return(i()(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},N=function(e){return i()(e,"catalog.pageSize",4)},G=function(e){return i()(e,"catalog.delayAutoSearch",1e3)},D=(0,r.zB)({projection:l.uy}),M=function(e){return i()(e,"catalog.formatsLoading",!1)},k=function(e){return i()(e,"catalog.newService.supportedFormats.imageFormats",[])},Z=function(e){var t,n;return"edit"===I(e)?k(e):(null===(t=S(e))||void 0===t||null===(n=t.supportedFormats)||void 0===n?void 0:n.imageFormats)||[]},F=function(e){return i()(e,"catalog.newService.supportedFormats.infoFormats",(0,u.oL)())},U=function(e){return i()(e,"catalog.newService.formatUrlUsed","")},Y=function(e){return i()(e,"catalog.isNewServiceAdded",!1)},H=function(e){return i()(e,"catalog.showFormatError",!1)},B=function(e){var t=function(e){return i()(e,"catalog.editingAllowedRoles",[])}(e),n=function(e){return i()(e,"catalog.editingAllowedGroups",[])}(e);return(0,a.tv)({allowedRoles:t,allowedGroups:n})(e)}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>f,Yf:()=>p,c3:()=>d,fY:()=>y});var r=n(218721),o=n.n(r),i=n(227361),l=n.n(i),u=n(313311),a=n.n(u),c=n(22222),s=n(308316),f=function(e){return o()(e,"localConfig.localizedLayerStyles")},p=function(e){var t=l()(e,"localConfig.plugins.dashboard",[]),n=a()(t,(function(e){return"DashboardEditor"===e.name}))||{};return l()(n,"cfg.catalog.localizedLayerStyles",!1)},d=function(e){return l()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},y=(0,c.P1)(f,d,s.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},945177:(e,t,n)=>{"use strict";var r=n(595318);t.__esModule=!0,t.default=void 0;var o,i=r(n(250139)),l="clearTimeout",u=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=a(e,"request");if(t in window)return l=a(e,"cancel"),u=function(e){return window[t](e)}}));var c=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[l]&&"function"==typeof window[l]&&window[l](e)};var s=o;t.default=s,e.exports=t.default},887157:(e,t,n)=>{var r=n(640554),o=n(588958);e.exports=function(e,t,n,i){var l=e.length;for((n=r(n))<0&&(n=-n>l?0:l+n),(i=void 0===i||i>l?l:r(i))<0&&(i+=l),i=n>i?0:o(i);n<i;)e[n++]=t;return e}},441761:(e,t,n)=>{var r=n(644239),o=n(637005);e.exports=function(e){return o(e)&&"[object Date]"==r(e)}},819873:(e,t,n)=>{var r=n(887157),o=n(816612);e.exports=function(e,t,n,i){var l=null==e?0:e.length;return l?(n&&"number"!=typeof n&&o(e,t,n)&&(n=0,i=l),r(e,t,n,i)):[]}},647960:(e,t,n)=>{var r=n(441761),o=n(307518),i=n(531167),l=i&&i.isDate,u=l?o(l):r;e.exports=u},588958:(e,t,n)=>{var r=n(829750),o=n(640554);e.exports=function(e){return e?r(o(e),0,4294967295):0}}}]);