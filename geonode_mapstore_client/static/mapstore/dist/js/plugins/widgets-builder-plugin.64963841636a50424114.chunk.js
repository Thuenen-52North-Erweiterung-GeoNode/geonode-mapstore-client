(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[29389],{604206:(t,e,r)=>{"use strict";r.d(e,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>u,IC:()=>c,iU:()=>f,W7:()=>a,uB:()=>l,Rh:()=>p,G_:()=>s,vU:()=>y,Vw:()=>b,KD:()=>E,uj:()=>d,lo:()=>O,Yf:()=>v,fo:()=>g,PY:()=>m,bp:()=>R,oJ:()=>T,k4:()=>S,sc:()=>h,Li:()=>A});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",c="DRAW:DRAW_SUPPORT_STOPPED",f="DRAW:FEATURES_SELECTED",a="DRAW:DRAWING_FEATURES",l="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",s="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function b(t,e,r,n,o){return{type:u,features:t,owner:e,enableEdit:r,textChanged:n,circleChanged:o}}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:f,features:t}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:a,features:t}}function O(){return{type:c}}function v(t,e,r,o,i,u){return{type:n,status:t,method:e,owner:r,features:o,options:i,style:u}}function g(t,e){return{type:o,geometry:t,owner:e}}function m(t){return{type:i,currentStyle:t}}var R=function(t){return v("clean","",t,[],{})};function T(){return{type:s}}function S(t){return{type:l,snappingLayer:t}}function h(){return{type:p}}function A(t,e,r){return{type:y,value:t,prop:e,pluginCfg:r}}},433528:(t,e,r)=>{"use strict";r.d(e,{gJ:()=>n,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>c,aO:()=>f,v6:()=>a,K8:()=>l,IN:()=>p,zh:()=>s,AH:()=>y,Ub:()=>b,_9:()=>E,JB:()=>d,oh:()=>O,AY:()=>v,yi:()=>g,SW:()=>m,Hk:()=>R,iQ:()=>T,dY:()=>S,$:()=>h,_u:()=>A,gG:()=>D,DI:()=>P,dZ:()=>I,qw:()=>_,f$:()=>j,bZ:()=>w,$O:()=>G,sF:()=>F,Gk:()=>U,vO:()=>C,ut:()=>N,MK:()=>k,VV:()=>L,B8:()=>W,VM:()=>M,a3:()=>x,Xp:()=>B,DA:()=>Y,sK:()=>q,yA:()=>H,r:()=>z,iB:()=>V,WB:()=>Z,EH:()=>X,Yd:()=>J,Hg:()=>K,Lz:()=>$,ye:()=>Q,Jb:()=>tt,d:()=>et,fT:()=>rt,Ib:()=>nt,Pl:()=>ot,UB:()=>it,Uh:()=>ut,QT:()=>ct,oL:()=>ft,Ap:()=>at,KD:()=>lt,Z_:()=>pt,Vw:()=>st,sY:()=>yt,kA:()=>bt,gr:()=>Et,pX:()=>dt,F5:()=>Ot,MO:()=>vt,dq:()=>gt,DY:()=>mt,oO:()=>Rt,uF:()=>Tt,a8:()=>St,Pv:()=>ht,an:()=>At,lg:()=>Dt,nY:()=>Pt,nG:()=>It,lx:()=>_t,$S:()=>jt,gc:()=>wt,Uz:()=>Gt,fO:()=>Ft,$E:()=>Ut,cE:()=>Ct,JK:()=>Nt,YV:()=>kt,t9:()=>Lt,YG:()=>Wt,HT:()=>Mt,MY:()=>xt,ve:()=>Bt,hB:()=>Yt,Ox:()=>qt,zd:()=>Ht,aT:()=>zt,VH:()=>Vt,Yb:()=>Zt,Jr:()=>Xt,pP:()=>Jt,gL:()=>Kt});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",f="FEATUREGRID:TOGGLE_MODE",a="FEATUREGRID:TOGGLE_FEATURES_SELECTION",l="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",s="FEATUREGRID:SAVE_CHANGES",y="FEATUREGRID:SAVING",b="FEATUREGRID:START_EDITING_FEATURE",E="FEATUREGRID:START_DRAWING_FEATURE",d="FEATUREGRID:DELETE_GEOMETRY",O="FEATUREGRID:DELETE_GEOMETRY_FEATURE",v="FEATUREGRID:SAVE_SUCCESS",g="FEATUREGRID:CLEAR_CHANGES",m="FEATUREGRID:SAVE_ERROR",R="FEATUREGRID:DELETE_SELECTED_FEATURES",T="SET_FEATURES",S="FEATUREGRID:SORT_BY",h="FEATUREGRID:SET_LAYER",A="QUERY:UPDATE_FILTER",D="FEATUREGRID:CHANGE_PAGE",P="FEATUREGRID:GEOMETRY_CHANGED",I="DOCK_SIZE_FEATURES",_="FEATUREGRID:TOGGLE_TOOL",j="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",w="ASK_CLOSE_FEATURE_GRID_CONFIRM",G="FEATUREGRID:OPEN_GRID",F="FEATUREGRID:CLOSE_GRID",U="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",C="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",k="FEATUREGRID:DISABLE_TOOLBAR",L="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",W="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",M="FEATUREGRID:ADVANCED_SEARCH",x="FEATUREGRID:ZOOM_ALL",B="FEATUREGRID:INIT_PLUGIN",Y="FEATUREGRID:SIZE_CHANGE",q="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",H="FEATUREGRID:HIDE_SYNC_POPOVER",z="FEATUREGRID:UPDATE_EDITORS_OPTIONS",V="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",Z="FEATUREGRID:SET_SYNC_TOOL",X={EDIT:"EDIT",VIEW:"VIEW"},J="FEATUREGRID:START_SYNC_WMS",K="FEATUREGRID:STOP_SYNC_WMS",$="STORE_ADVANCED_SEARCH_FILTER",Q="LOAD_MORE_FEATURES",tt="FEATUREGRID:QUERY_RESULT",et="FEATUREGRID:SET_TIME_SYNC",rt="FEATUREGRID:SET_PAGINATION";function nt(){return{type:q}}function ot(){return{type:H}}function it(t,e){return{type:tt,features:t,pages:e}}function ut(t){return{type:$,filterObj:t}}function ct(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:B,options:t}}function ft(){return{type:U}}function at(){return{type:C}}function lt(t,e){return{type:o,features:t,append:e}}function pt(t){return{type:n,options:t}}function st(t){return{type:P,features:t}}function yt(){return{type:b}}function bt(){return{type:E}}function Et(t){return{type:i,features:t}}function dt(){return{type:d}}function Ot(t){return{type:O,features:t}}function vt(){return{type:u}}function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.multiselect,r=t.showCheckbox;return{type:c,multiselect:e,showCheckbox:r}}function mt(t,e){return{type:S,sortBy:t,sortOrder:e}}function Rt(t,e){return{type:D,page:t,size:e}}function Tt(t){return{type:h,id:t}}function St(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:A,update:t,append:e}}function ht(t,e){return{type:_,tool:t,value:e}}function At(t,e,r){return{type:j,name:t,key:e,value:r}}function Dt(){return{type:f,mode:X.EDIT}}function Pt(){return{type:f,mode:X.VIEW}}function It(t,e){return{type:l,features:t,updated:e}}function _t(t){return{type:p,features:t}}function jt(){return{type:s}}function wt(){return{type:v}}function Gt(){return{type:R}}function Ft(){return{type:y}}function Ut(){return{type:g}}function Ct(){return{type:m}}function Nt(){return{type:w}}function kt(){return{type:F}}function Lt(){return{type:G}}function Wt(t){return{type:k,disabled:t}}function Mt(t){return{type:N,permission:t}}function xt(){return{type:M}}function Bt(){return{type:x}}function Yt(){return{type:J}}function qt(t,e){return{type:Y,size:t,dockProps:e}}var Ht=function(t){return{type:Q,pages:t}},zt=function(t){return{type:L,activated:t}},Vt=function(t){return{type:W,deactivated:t}},Zt=function(t){return{type:et,value:t}},Xt=function(t){return{type:rt,size:t}},Jt=function(t){return{type:V,updateFilterAction:t}},Kt=function(t){return{type:Z,syncWmsFilter:t}}},921533:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(867076),o=r(815135),i=r(159979);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var c=["renderPopover","popoverOptions"];function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l=(0,n.compose)((0,n.withProps)((function(t){var e=t.renderPopover,r=t.popoverOptions;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(e?{renderPopover:e,popoverOptions:r}:{},function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,c))})),(0,n.branch)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.renderPopover,r=t.popoverOptions;return e&&!!r}),i.Z,o.Z))},159979:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(124852),o=r.n(n),i=r(352595),u=r(757588),c=r(957557),f=r.n(c),a=r(180307),l=r.n(a);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}var s=["popoverOptions","keyProp"];function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y.apply(this,arguments)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function O(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}const g=function(t){return function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(g,e);var r,n,c,a,p=(c=g,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(c);if(a){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return O(this,t)});function g(){return b(this,g),p.apply(this,arguments)}return r=g,(n=[{key:"render",value:function(){var e=null,r=this.props,n=r.popoverOptions,c=r.keyProp,a=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(r,s);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(t,y({},f()(a,["renderPopover","tooltipId"]),{key:c,ref:function(t){e=t}})),o().createElement(i.Z,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return l().findDOMNode(e)}},o().createElement(u.Popover,n.props,n.content)))}}])&&E(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),g}(o().Component)}},656903:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(124852),o=r.n(n),i=r(757588),u=r(282467),c=["disabled","id","visible","onClick","glyph","active","className"];function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}var a={width:0,padding:0,borderWidth:0},l={},p=function(t){return t?l:a};const s=(0,n.forwardRef)((function(t,e){var r=t.disabled,n=t.id,a=t.visible,l=t.onClick,s=t.glyph,y=t.active,b=t.className,E=void 0===b?"square-button-md":b,d=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,c);return o().createElement(u.Z,f({ref:e},d,{bsStyle:y?"success":"primary",disabled:r,id:"fg-".concat(n),style:p(a),className:E,onClick:function(){return!r&&l()}}),o().createElement(i.Glyphicon,{glyph:s}))}))},859912:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Q});var n=r(124852),o=r.n(n),i=r(45697),u=r.n(i),c=r(49977),f=r.n(c),a=r(557579),l=r(433528),p=r(604206),s=r(807878),y=r(782904),b=r(580416),E=r(275982),d=r(95797),O=r(401757),v=r(824260),g=r(607147);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function R(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D=function(t){var e=(0,O.GW)(t);return[e.search&&e.search.url,e.name]};const P={openWidgetEditor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getState,n=void 0===r?function(){}:r;return t.ofType(a.AE,a.dm,a.IT).filter((function(){return(0,g.PJ)(n())})).switchMap((function(){return f().Observable.of((0,y.Xg)("widgetBuilder","enabled",!0),(0,y.Xg)("metadataexplorer","enabled",!1))}))},closeWidgetEditorOnFinish:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getState,n=void 0===r?function(){}:r;return t.ofType(a.Jm,b.oE).filter((function(){return(0,g.PJ)(n())})).switchMap((function(){return f().Observable.of((0,y.Xg)("widgetBuilder","enabled",!1))}))},initEditorOnNew:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getState,n=void 0===r?function(){}:r;return t.ofType(a.AE).filter((function(){return(0,g.PJ)(n())})).switchMap((function(t){return f().Observable.of((0,a.bS)(h(h({legend:!1,mapSync:!0,cartesian:!0,yAxis:!0},t),{},{type:void 0}),{step:0}))}))},initEditorOnNewChart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getState,n=void 0===r?function(){}:r;return t.ofType(a.IT).filter((function(){return(0,g.PJ)(n())})).switchMap((function(t){return f().Observable.of((0,l.YV)(),(0,a.bS)(h(h({legend:!1,mapSync:!0,cartesian:!0,yAxis:!0,widgetType:"chart",filter:(0,v.X1)(n())},t),{},{type:void 0}),{step:0}),(0,a.Rz)("returnToFeatureGrid",!0))}))},handleWidgetsFilterPanel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getState,n=void 0===r?function(){}:r;return t.ofType(a.lG).filter((function(){return(0,g.PJ)(n())})).switchMap((function(){return f().Observable.of(d.gT.apply(void 0,R(D(n()))),(0,s.F)((0,O.um)(n())),(0,y.Xg)("widgetBuilder","enabled",!1),(0,y.Xg)("queryPanel","enabled",!0)).concat(f().Observable.race(t.ofType(s.Wm).take(1),t.ofType(y.kM).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.control,r=t.property;return"queryPanel"===e&&(!r||"enabled"===r)})).take(1)).switchMap((function(t){return(t.filterObj?f().Observable.of((0,a.Rz)("filter",t.filterObj)):f().Observable.empty()).merge(f().Observable.of((0,y.Xg)("widgetBuilder","enabled",!0)))}))).takeUntil(t.ofType(E.nk,a.dm).merge(t.ofType(y.kM).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.control,r=t.property;return"widgetBuilder"===e&&0==!r})))).concat(f().Observable.of((0,p.bp)(),(0,y.Xg)("queryPanel","enabled",!1)))}))}};var I=r(322843),_=r(416919),j=r(171703),w=r(22222),G=r(867076),F=r(55105);const U=(0,G.compose)((0,j.connect)((function(t){return{returnToFeatureGrid:(0,O.Wo)(t)}}),{backToWidgetList:function(){return(0,a.Rz)("widgetType",void 0)},closeWidgetBuilder:function(){return(0,y.Xg)("widgetBuilder","enabled",!1,!1)},openFeatureGridTable:function(){return(0,l.t9)()}}),(0,G.withHandlers)({backFromWizard:function(t){var e=t.backToWidgetList,r=void 0===e?function(){}:e,n=t.closeWidgetBuilder,o=void 0===n?function(){}:n,i=t.openFeatureGridTable,u=void 0===i?function(){}:i,c=t.returnToFeatureGrid;return function(){c?(o(),u()):r()}}}),(0,G.withProps)((function(t){var e=t.returnToFeatureGrid,r=t.backFromWizard;return{exitButton:{onClick:void 0===r?function(){}:r,glyph:"arrow-left",tooltipId:e?"widgets.builder.wizard.backToFeatureGrid":"widgets.builder.wizard.backToWidgetTypeSelection"}}})));var C=r(949832),N=r(921533),k=r(656903),L=(0,N.Z)(k.Z);const W=(0,j.connect)((function(){return{}}),{onClick:function(){return(0,a.C2)()}})((function(t){var e=t.disabled,r=t.mode,n=t.onClick,i=void 0===n?function(){}:n;return o().createElement(L,{id:"grid-map-chart",keyProp:"grid-map-chart",tooltipId:"featuregrid.toolbar.createNewChart",disabled:e,visible:"VIEW"===r,onClick:i,glyph:"stats"})}));function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function q(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){return(e=X(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===M(e)?e:String(e)}var J=(0,G.compose)((0,j.connect)((0,w.P1)(O.h9,O.zA,(function(t,e){return V({dependencies:t},e)})),{toggleConnection:a.w2}),U)(C.Z),K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(c,t);var e,r,n,i,u=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(n);if(i){var r=H(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return q(this,t)});function c(){return x(this,c),u.apply(this,arguments)}return e=c,r=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){return o().createElement(_.Z,{open:this.props.enabled,size:this.props.dockSize,zIndex:this.props.zIndex,position:this.props.position,bsStyle:"primary",hideHeader:!0,style:V(V({},this.props.layout),{},{background:"white"})},o().createElement(J,{enabled:this.props.enabled,onClose:this.props.onClose,typeFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type;return"map"!==e&&"legend"!==e}}))}}],r&&B(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(o().Component);Z(K,"propTypes",{id:u().string,enabled:u().bool,limitDockHeight:u().bool,fluid:u().bool,zIndex:u().number,dockSize:u().number,position:u().string,onMount:u().func,onUnmount:u().func,onClose:u().func,dimMode:u().string,src:u().string,style:u().object,layout:u().object}),Z(K,"defaultProps",{id:"widgets-builder-plugin",enabled:!1,dockSize:500,limitDockHeight:!0,zIndex:1e4,fluid:!1,dimMode:"none",position:"left",onMount:function(){},onUnmount:function(){},onClose:function(){},layout:{}});var $=(0,j.connect)((0,w.P1)(g.dH,(function(t){return(0,F.ic)(t,{height:!0})}),(function(t,e){return{enabled:t,layout:e}})),{onMount:function(){return(0,y.Xg)("widgetBuilder","available",!0)},onUnmount:function(){return(0,y.Xg)("widgetBuilder","available",!1)},onClose:y.Xg.bind(null,"widgetBuilder","enabled",!1,!1)})(K);const Q=(0,I.rx)("WidgetsBuilder",{component:$,epics:P,containers:{TOC:{doNotHide:!0,name:"WidgetBuilder"},FeatureEditor:{doNotHide:!0,target:"toolbar",position:21,Component:W}}})},824260:(t,e,r)=>{"use strict";r.d(e,{qj:()=>g,Bu:()=>m,UM:()=>R,X1:()=>T,L:()=>S,HY:()=>h,Mz:()=>A,F0:()=>D,dc:()=>P,b0:()=>I,hk:()=>_,Qs:()=>j,gy:()=>w,M7:()=>G,VD:()=>F});var n=r(414293),o=r.n(n),i=r(227361),u=r.n(i),c=r(91175),f=r.n(c),a=r(701469),l=r.n(a),p=r(630998),s=r.n(p);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=function(t){return u()(t,"query.filterObj.featureTypeName")},v=function(t){return function(e){return u()(e,'query.featureTypes["'.concat(t,'"]'))}},g=function(t,e){return u()(v(e)(t),"original")},m=function(t){return t&&t.query&&t.query.searchUrl},R=function(t){return t&&t.query&&t.query.url},T=function(t){return t&&t.query&&t.query.filterObj},S=function(t){return u()(v(O(t))(t),"attributes")},h=function(t){return u()(t,"query.typeName")},A=function(t){return u()(t,"query.result.features")},D=function(t){var e=u()(t,"query.result");return E(E({},e),{},{features:(e&&e.features||[]).filter((function(t){return!o()(t.geometry)}))})},P=function(t,e){var r=t&&t.query&&t.query.result&&t.query.result.features;return f()(r.filter((function(t){return t.id===e})))},I={startIndex:function(t){return u()(t,"query.filterObj.pagination.startIndex")},maxFeatures:function(t){return u()(t,"query.filterObj.pagination.maxFeatures")},resultSize:function(t){return u()(t,"query.result.features.length")},totalFeatures:function(t){return u()(t,"query.result.totalFeatures")}},_=function(t,e){var r=v(e)(t);return!!(r&&r.attributes&&r.geometry&&r.original)},j=function(t){return g(t,O(t))},w=function(t){return u()(t,"query.featureLoading")},G=function(t){return u()(t,"query.syncWmsFilter",!1)},F=function(t){var e=u()(t,"query.filterObj.crossLayerFilter"),r=u()(t,"query.filterObj.spatialField"),n=u()(t,"query.filterObj.filterFields");return!!(n&&f()(n)||r&&(r.method&&r.operation&&r.geometry||l()(r)&&s()(r,(function(t){return t.method&&t.operation&&t.geometry}))>-1)||e&&e.collectGeometries&&e.operation)}},348969:(t,e,r)=>{var n=r(829932);t.exports=function(t,e){return n(e,(function(e){return[e,t[e]]}))}},513866:(t,e,r)=>{var n=r(348969),o=r(664160),i=r(668776),u=r(499294);t.exports=function(t){return function(e){var r=o(e);return"[object Map]"==r?i(e):"[object Set]"==r?u(e):n(e,t(e))}}},499294:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}},493220:(t,e,r)=>{var n=r(513866)(r(3674));t.exports=n}}]);