(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[69845],{979322:(r,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var t=n(124852),i=n.n(t),u=n(91175),o=n.n(u),l=n(513218),a=n.n(l),c=n(171703),f=n(322843),s=n(199914),y=n(580416);function d(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var p=(0,c.connect)((function(r){return{layers:(0,s.Bi)(r),groups:(0,s.Mm)(r)}}),{updateLayerVisibility:y.tV})((function(r){var e=r.layers,n=r.groups,u=(0,t.useRef)(""),l=function(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,i,u,o,l=[],a=!0,c=!1;try{if(u=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(t=u.call(n)).done)&&(l.push(t.value),l.length!==e);a=!0);}catch(r){c=!0,i=r}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(r,e)||function(r,e){if(r){if("string"==typeof r)return d(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,t.useState)([]),2),c=l[0],f=l[1],s=!1;window.onclick=function(r){var t,i=r.target;(i.className.includes("glyphicon-eye-open")||i.className.includes("glyphicon-eye-close"))&&((t=i,s=t.parentElement.attributes.class.nodeValue.includes("toc-default-group-head")?t.className.includes("glyphicon-eye-open")?{clicked:!0,open:!0}:{clicked:!0,open:!1}:{clicked:!1,open:null}).clicked&&s.open?y(n,e):p(),f(!c))},(0,t.useEffect)((function(){u.current={layers:e,groups:n}}),[c]);var y=function(e,n){e&&e.forEach((function(e){if(e.exclusiveLayer){var t=n.filter((function(r){return e.id===r.group})),i=0;if(t.forEach((function(r){r.visibility&&i++})),i>1){t=t.reverse(),r.updateLayerVisibility(t[0].id,"layer",{visibility:!0});for(var u=1;u<t.length;u++)r.updateLayerVisibility(t[u].id,"layer",{visibility:!1})}}}))},p=function(){if(r&&u.current&&e.length===u.current.layers.length){var n=function(r,e){for(var n=0;n<r.length;n++)if(r[n].visibility!==e[n].visibility)return r[n]}(e,u.current.layers);if(n){var t=function(r,e){var n=o()(r.groups.filter((function(r){return a()(r)&&r.id===e.group})));return void 0!==n?n:o()(r.groups.filter((function(r){return a()(r)&&"Default"===r.id})))}(r,n);t&&t.exclusiveLayer&&e.filter((function(r){return n.group===r.group})).forEach((function(e){e.id!==n.id&&r.updateLayerVisibility(e.id,"layer",{visibility:!1})}))}}};if(u.current.groups&&n.length===u.current.groups.length)for(var v=function(e){if(n[e].exclusiveLayer&&!u.current.groups[e].exclusiveLayer){var t=r.layers.filter((function(r){return n[e].id===r.group})),i=0;t.forEach((function(r){r.visibility&&i++})),i>1&&t.forEach((function(e){r.updateLayerVisibility(e.id,"layer",{visibility:!1})}))}},g=0;g<n.length;g++)v(g);return i().createElement("div",null)}));const v=(0,f.rx)("ExclusiveLayer",{component:p})},199914:(r,e,n)=>{"use strict";n.d(e,{Bi:()=>u,Mm:()=>o,n4:()=>a});var t=n(513218),i=n.n(t),u=function(r){return r.layers.flat.filter((function(r){return function(r){if("background"!=r.group)return r}(r)}))},o=function(r){return l(r.layers.groups)},l=function(r){if(Array.isArray(r)){var e=[];return function r(n){n.forEach((function(n){i()(n)&&(e.push(n),n.nodes&&r(n.nodes))}))}(r),e}return[]},a=function(r){return r.styleeditor}}}]);