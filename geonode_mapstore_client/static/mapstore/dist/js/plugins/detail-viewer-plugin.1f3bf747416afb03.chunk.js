"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[95121],{474916:(e,r,n)=>{n.d(r,{Z:()=>c});var t=n(124852),o=n.n(t),a=n(45697),i=n.n(a),l=["href","readOnly","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},u.apply(null,arguments)}function s(e){var r=e.href,n=e.readOnly,t=e.children,a=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l);return n?t:o().createElement("a",u({href:r},a),t)}s.propTypes={href:i().string,readOnly:i().bool.isRequired,children:i().any},s.defaultProps={href:"",readOnly:!1};const c=s},834065:(e,r,n)=>{n.d(r,{Z:()=>f});var t=n(124852),o=n.n(t),a=n(45697),i=n.n(a),l=n(877593),u=n(474916),s=["resource","readOnly","formatHref","pathname"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(null,arguments)}function d(e){var r,n,t,a=e.resource,i=e.readOnly,d=e.formatHref,f=e.pathname,v=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);return v.detailsPanel?o().createElement(u.Z,{readOnly:i,href:d({pathname:f,query:{"filter{owner.username.in}":null===(t=a.owner)||void 0===t?void 0:t.username}})},a.owner&&(0,l.vW)(a.owner)):o().createElement("p",c({className:"card-text gn-card-user"},v),(null===(r=a.owner)||void 0===r?void 0:r.avatar)&&o().createElement("img",{src:a.owner.avatar,alt:(0,l.vW)(a.owner),className:"gn-card-author-image"}),o().createElement(u.Z,{readOnly:i,href:d({pathname:f,query:{"filter{owner.username.in}":null===(n=a.owner)||void 0===n?void 0:n.username}})},a.owner&&(0,l.vW)(a.owner)))}d.propTypes={resource:i().object,readOnly:i().bool,formatHref:i().func,props:i().any},d.defaultProps={resource:{},readOnly:!1,formatHref:function(){return"#"}};const f=d},138241:(e,r,n)=>{n.d(r,{Z:()=>b});var t=n(124852),o=n.n(t),a=n(805346),i=n(45697),l=n.n(i),u=n(507412),s=n(815135),c=n(441609),d=n.n(c),f=n(535721),v=n(638323),p=(0,s.Z)(v.Z),m=function(e){var r,n,t,i=e.resource,l=void 0===i?{}:i,s=(0,f.fu)(l),c=s.isApproved,v=s.isPublished,m=s.isProcessing,b=s.isCopying,y=s.isDeleting,g=s.isDeleted;return d()(l)?null:o().createElement("p",{className:"gn-resource-status-text"},!m&&(!c||!v)&&o().createElement(p,{variant:"default",className:"gn-resource-status gn-status-button",tooltip:(r={isApproved:c,isPublished:v},n=r.isApproved,t=r.isPublished,!n&&t?o().createElement(a.Z,{msgId:"gnhome.pendingApproval"}):n||t?t||n?"":o().createElement(a.Z,{msgId:"gnhome.unpublished"}):o().createElement(a.Z,{msgId:"gnhome.unApprovedunPublished"})),style:{marginRight:(y||g||b)&&"0.4rem"},tooltipPosition:"top"},o().createElement(u.Z,{name:"info-circle",className:"gn-resource-status-pending"})),y&&o().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},o().createElement(a.Z,{msgId:"gnviewer.deleting"})),g&&o().createElement("span",{className:"gn-resource-status gn-resource-status-danger"},o().createElement(a.Z,{msgId:"gnviewer.deleted"})),b&&o().createElement("span",{className:"gn-resource-status gn-resource-status-primary"},o().createElement(a.Z,{msgId:"gnviewer.cloning"})))};m.propTypes={isApproved:l().bool,isPublished:l().bool},m.defaultProps={isApproved:!0,isPublished:!0};const b=m},30762:(e,r,n)=>{n.d(r,{Z:()=>d});var t=n(124852),o=n.n(t),a=n(414293),i=n.n(a),l=n(815135),u=n(17594);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(null,arguments)}var c=(0,l.Z)((function(e){return o().createElement("div",s({},e,{className:"gn-unadvertised"}),o().createElement(u.Z,{name:"eye-slash"}))}));const d=function(e){var r=e.resource;return i()(r.advertised)||r.advertised?null:o().createElement(c,{tooltipId:"gnviewer.unadvertised",className:"gn-unadvertised"})}},650079:(e,r,n)=>{n.d(r,{Z:()=>o});var t=n(124852);const o=function(e){var r=e.disabled,n=e.onClickOut,o=(0,t.useRef)();return(0,t.useEffect)((function(){function e(e){var t;!r&&(null==o||null===(t=o.current)||void 0===t?void 0:t.contains)&&!o.current.contains(e.target)&&n()}return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}),[r,o,n]),o}},829863:(e,r,n)=>{n.r(r),n.d(r,{default:()=>_});var t=n(124852),o=n.n(t),a=n(322843),i=n(171703),l=n(22222),u=n(737275),s=n(178728),c=n(274621),d=n(643892),f=n(452992),v=n(17594),p=n(925108),m=n(782904),b=n(572036),y=n(299392),g=n(638323),h=n(650079),O=n(64469),w=n(709275),P=n(877593),E=n(805346),j=n(675110),k=n(800827),S=n(770058),Z=n(678833),C=n(535721),D=["hide"];function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function N(e,r,n){return(r=function(e){var r=function(e){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var L=(0,i.connect)((0,l.P1)([function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.data)||null},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.loading)||!1},function(e){var r,n;return(null==e||null===(r=e.gnresource)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.favorite)||!1},function(e){var r;return(null==e||null===(r=e.gnsave)||void 0===r?void 0:r.savingThumbnailMap)||!1},j.l2,y.km,y.Bs,k.Od,function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.showMapThumbnail)||!1},f.WB],(function(e,r,n,t,o,a,i,l,u,s){return{layers:o,resource:e,loading:r,savingThumbnailMap:t,favorite:n,isThumbnailChanged:a,resourceThumbnailUpdating:i,initialBbox:null==l?void 0:l.bbox,enableMapViewer:u,downloading:s,resourceId:e.pk}})),{closePanel:m.Xg.bind(null,"rightOverlay","enabled",!1),onFavorite:d.gw,onMapThumbnail:d.CB,onResourceThumbnail:d.e5,onClose:d.qs,onSetExtent:d.rg})(s.Z),R=(0,i.connect)((0,l.P1)([y.V$,y.fg,y.L4],(function(e,r,n){return{hide:e||!r,resourceType:n}})),{onClick:m.Xg.bind(null,"rightOverlay","enabled","DetailViewer")})((function(e){var r=e.onClick,n=e.hide,t=e.variant,a=e.size,i=e.showMessage,l=e.resourceType,u=((0,C.s2)()[l]||{}).icon,s=void 0===u?"info-circle":u;return n?null:o().createElement(g.Z,{variant:t,size:a,onClick:function(){r()}},i?o().createElement(E.Z,{msgId:"gnviewer.viewInfo"}):o().createElement(v.Z,{name:s}))}));function A(e,r){var n=e.location,t=e.enabled,a=e.onEditResource,i=e.onEditAbstractResource,l=e.onEditThumbnail,u=e.canEdit,s=e.user,c=e.onClose,d=e.monitoredState,f=e.queryPathname,v=void 0===f?"/":f,p=e.tabs,m=void 0===p?[]:p,b=e.items,y=e.resourceId,g=(0,S._y)(d,{tabs:m}),w=(0,h.Z)({disabled:!t,onClickOut:function(){c()}}),E=r.loadedPlugins,j=(0,Z.Z)({items:b,loadedPlugins:E},[y]).filter((function(e){return"toolbar"===e.target}));return o().createElement(O.Z,{enabled:t,ref:w,className:"gn-overlay-wrapper"},o().createElement(L,{editTitle:function(e){a(e)},editAbstract:function(e){i(e)},editThumbnail:function(e){l(e,!0)},activeEditMode:t&&u,enableFavorite:!!s,formatHref:function(e){return(0,P.nz)(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?I(Object(n),!0).forEach((function(r){N(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({location:n},e))},tabs:g.tabs,pathname:v,toolbarItems:j}))}var V=(0,i.connect)((0,l.P1)([function(e){var r,n;return"DetailViewer"===(null==e||null===(r=e.controls)||void 0===r||null===(n=r.rightOverlay)||void 0===n?void 0:n.enabled)},y.il,y.V$,y.fg,c.np,function(e){return(0,a.bh)(e,(0,u.u8)("monitorState"))},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.data)||null}],(function(e,r,n,t,o,a,i){return{enabled:e,canEdit:r,hide:n||!t,user:o,monitoredState:a,resourceId:null==i?void 0:i.pk}})),{onEditResource:d.Br,onEditAbstractResource:d.bI,onEditThumbnail:d.U5,onClose:m.Xg.bind(null,"rightOverlay","enabled",!1)})((0,w.EN)((function(e){var r=e.hide,n=function(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,D);return r?null:o().createElement(A,n)})));const _=(0,a.rx)("DetailViewer",{component:V,containers:{ActionNavbar:{name:"DetailViewerButton",Component:R}},reducers:{gnresource:b.Z,controls:p.Z}})},862032:(e,r,n)=>{n.r(r),n.d(r,{default:()=>N});var t=n(124852),o=n.n(t),a=n(322843),i=n(171703),l=n(22222),u=n(737275),s=n(178728),c=n(643892),d=n(17594),f=n(925108),v=n(782904),p=n(572036),m=n(299392),b=n(638323),y=n(650079),g=n(64469),h=n(709275),O=n(877593),w=n(800827),P=n(770058),E=n(815135);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e,r,n){return(r=function(e){var r=function(e){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Z={"attribute-table":DetailsAttributeTable,"linked-resources":DetailsLinkedResources,locations:DetailsLocations,assets:DetailsAssets},C=(0,E.Z)(b.Z),D=(0,i.connect)((0,l.P1)([function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.selectedLayerDataset)||null},function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.loading)||!1},w.Od,function(e){var r;return(null==e||null===(r=e.gnresource)||void 0===r?void 0:r.showMapThumbnail)||!1}],(function(e,r,n,t){return{resource:e,loading:r,initialBbox:null==n?void 0:n.bbox,enableMapViewer:t,resourceId:null==e?void 0:e.pk,tabComponents:Z}})),{closePanel:v.Xg.bind(null,"rightOverlay","enabled",!1),onClose:c.qs})(s.Z),T=(0,i.connect)((0,l.P1)([m.WJ],(function(e){return{layer:e}})),{onClick:v.Xg.bind(null,"rightOverlay","enabled","LayerDetailViewer")})((function(e){var r=e.onClick,n=e.layer,t=e.size,a=e.status;return(null==n?void 0:n.pk)&&"LAYER"===a?o().createElement(C,{variant:"primary",size:t,onClick:function(){r()}},o().createElement(d.Z,{name:"info-circle"})):null})),I=(0,i.connect)((0,l.P1)([function(e){var r,n;return"LayerDetailViewer"===(null==e||null===(r=e.controls)||void 0===r||null===(n=r.rightOverlay)||void 0===n?void 0:n.enabled)},m.WJ,function(e){return(0,a.bh)(e,(0,u.u8)("monitorState"))}],(function(e,r,n){return{enabled:e,layer:r,monitoredState:n}})),{onClose:v.Xg.bind(null,"rightOverlay","enabled",!1)})((0,h.EN)((function(e){var r=e.location,n=e.enabled,t=e.onClose,a=e.monitoredState,i=e.queryPathname,l=void 0===i?"/":i,u=e.tabs,s=void 0===u?[]:u,c=(0,P._y)(a,{tabs:s}),d=(0,y.Z)({disabled:!n,onClickOut:function(){t()}});return o().createElement(g.Z,{enabled:n,ref:d,className:"gn-overlay-wrapper"},o().createElement(D,{editTitle:null,editAbstract:null,editThumbnail:function(){},activeEditMode:!1,enableFavorite:!1,formatHref:function(e){return(0,O.nz)(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?k(Object(n),!0).forEach((function(r){S(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({location:r},e))},tabs:c.tabs,pathname:l}))})));const N=(0,a.rx)("LayerDetailViewer",{component:I,containers:{TOC:{target:"toolbar",name:"LayerDetailViewerButton",Component:T}},reducers:{gnresource:p.Z,controls:f.Z}})},572036:(e,r,n)=>{n.d(r,{Z:()=>E});var t=n(618446),o=n.n(t),a=n(441609),i=n.n(a),l=n(957557),u=n.n(l),s=n(643892),c=n(535721),d=["data"],f=["data"],v=["features"],p=["features"],m=["features"],b=["pk"];function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?h(Object(n),!0).forEach((function(r){w(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function w(e,r,n){return(r=function(e){var r=function(e){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var P={selectedLayerPermissions:[],data:{},permissions:[]};const E=function(){var e,r,n,t,a,l,y,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,w=arguments.length>1?arguments[1]:void 0;switch(w.type){case s.$X:return P;case s.ql:return O(O({},h),{},{configError:void 0,loadingResourceConfig:w.loading});case s.nS:return O(O({},h),{},{loading:!1,configError:w.message});case s.W:return O(O({},h),{},{loading:!0});case s.Zf:var E,j,k=(0,c.NN)(w.data||{}),S=(k.data,O({},g(k,d))),Z=null===(E=h.data)||void 0===E?void 0:E.linkedResources;return i()(Z)||S.pk!==(null===(j=h.data)||void 0===j?void 0:j.pk)||(S.linkedResources=Z),O(O({},h),{},{error:null,initialResource:O({},k),data:S,loading:!1,isNew:!1});case s.ac:var C,D,T=w.data||{},I=(T.data,O({},g(T,f))),N=null===(C=h.layerDataset)||void 0===C?void 0:C.linkedResources;return i()(N)||I.pk!==(null===(D=h.layerDataset)||void 0===D?void 0:D.pk)||(I.linkedResources=N),O(O({},h),{},{error:null,initialLayerResource:O({},w.data),layerDataset:I,loading:!1});case s.Eu:return O(O({},h),{},{initialResource:null,data:null,error:w.error,loading:!1});case s.Vy:return O(O({},h),{},{data:O(O({},h.data),w.properties)});case s.I:return O(O({},h),{},{layerDataset:O(O({},h.layerDataset),w.properties)});case s.YB:return O(O({},h),{},{type:w.resourceType});case s.xm:return O(O({},P),{},{isNew:!0});case s._f:return O(O({},h),{},{id:w.id});case s.ek:return O(O({},h),{},{permissions:w.permissions});case s.cd:return O(O({},h),{},{data:O(O({},null==h?void 0:h.data),{},{title:null==w?void 0:w.title,name:null==w?void 0:w.title})});case s.pt:return O(O({},h),{},{data:O(O({},null==h?void 0:h.data),{},{abstract:null==w?void 0:w.abstract})});case s.ww:return O(O({},h),{},{data:O(O({},null==h?void 0:h.data),{},{thumbnail_url:null==w?void 0:w.thumbnailUrl,thumbnailChanged:null==w?void 0:w.thumbnailChanged})});case s._Z:return O(O({},h),{},{data:O(O({},null==h?void 0:h.data),{},{updatingThumbnail:!0})});case s.dh:return O(O({},h),{},{showMapThumbnail:w.enabled});case s.p2:return O(O({},h),{},{selectedLayerPermissions:w.permissions});case s.ih:return O(O({},h),{},{initialCompactPermissions:w.compactPermissions,compactPermissions:w.compactPermissions,isCompactPermissionsChanged:!1,geoLimits:[]});case s.J5:return O(O({},h),{},{compactPermissions:w.compactPermissions,isCompactPermissionsChanged:!o()((0,c.go)(h.initialCompactPermissions),(0,c.go)(w.compactPermissions)),geoLimits:(0,c.vB)(w.compactPermissions)});case s.uA:if(h.compactPermissions){var L=h.compactPermissions,R=L.users,A=L.organizations,V=L.groups;return O(O({},h),{},{compactPermissions:{users:R.map((function(e){return e.features,g(e,v)})),organizations:A.map((function(e){return e.features,g(e,p)})),groups:V.map((function(e){return e.features,g(e,m)}))},geoLimits:[]})}return h;case s.Y0:return O(O({},h),{},{data:O(O({},h.data),{},{extent:O(O({},null===(e=h.data)||void 0===e?void 0:e.extent),{},{coords:w.coords})})});case s.sA:return O(O({},h),{},{params:w.params});case s.ip:return O(O({},h),{},{viewerLinkedResource:O({},(0,c.NN)(u()(w.resource,["data"])))});case s.F_:return O(O({},h),{},{defaultViewerPlugins:w.plugins});case s.um:return O(O({},h),{},{selectedLayer:w.layer});case s.pG:return O(O({},h),{},{selectedLayerDataset:null===(r=h.data)||void 0===r||null===(n=r.maplayers)||void 0===n||null===(t=n.find((function(e){var r;return(null===(r=e.dataset)||void 0===r?void 0:r.pk)===parseInt(w.layerId,10)})))||void 0===t?void 0:t.dataset});case s.Tj:var _=w.layer,x=_.pk,B=g(_,b),M=null!==(a=w.layer.linked_resources)&&void 0!==a?a:{};if(!i()(M)){var q,z,W=null!==(q=M.linked_to)&&void 0!==q?q:[],X=null!==(z=M.linked_by)&&void 0!==z?z:[];M=i()(W)&&i()(X)?{}:{linkedTo:W,linkedBy:X}}return O(O({},h),{},{data:O(O({},h.data),{},{maplayers:null===(l=h.data)||void 0===l||null===(y=l.maplayers)||void 0===y?void 0:y.map((function(e){var r;return(null===(r=e.dataset)||void 0===r?void 0:r.pk)===parseInt(x,10)?O(O({},e),{},{dataset:O(O(O({},e.dataset),B),{},{linkedResources:M})}):e}))})});default:return h}}}}]);