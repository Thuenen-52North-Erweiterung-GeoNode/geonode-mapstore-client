(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[69845],{449945:(r,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>v});var e=t(124852),i=t.n(e),u=t(91175),o=t.n(u),a=t(513218),c=t.n(a),l=t(171703),f=t(322843),s=function(r){return r.layers.flat.filter((function(r){return function(r){if("background"!=r.group)return r}(r)}))},y=function(r){return p(r.layers.groups)},p=function(r){if(Array.isArray(r)){var n=[];return function r(t){t.forEach((function(t){c()(t)&&(n.push(t),t.nodes&&r(t.nodes))}))}(r),n}return[]},d=t(580416);function g(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}var h=(0,l.connect)((function(r){return{layers:s(r),groups:y(r)}}),{changeLayerVisibility:d.tV})((function(r){var n=r.layers,t=(0,e.useRef)(""),u=function(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,i,u,o,a=[],c=!0,l=!1;try{if(u=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(e=u.call(t)).done)&&(a.push(e.value),a.length!==n);c=!0);}catch(r){l=!0,i=r}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(r,n)||function(r,n){if(r){if("string"==typeof r)return g(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(r,n):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),a=u[0],l=u[1];if(window.onclick=function(r){r.target.className.includes("glyphicon-eye")&&l(!0)},(0,e.useEffect)((function(){t.current=n}),[a]),a&&n.length===t.current.length)for(var f=function(e){if(n[e].visibility!==t.current[e].visibility){var i=function(r,n){return o()(r.groups.filter((function(r){return c()(r)&&r.id===n.group})))}(r,n[e]);i&&i.exclusiveLayer&&(r.layers.filter((function(r){return n[e].group===r.group})).forEach((function(t){t.id!=n[e].id&&r.changeLayerVisibility(t.id,"layer",{visibility:!1})})),l(!1))}},s=0;s<n.length;s++)f(s);return i().createElement("div",null)}));const v=(0,f.rx)("ExclusiveLayer",{component:h})}}]);