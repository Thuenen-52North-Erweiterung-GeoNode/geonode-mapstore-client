/*! For license information please see 2701.701ffdcd00cb856c33ff.chunk.js.LICENSE.txt */
(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2701],{788554:(e,t,n)=>{"use strict";n.d(t,{Wr:()=>r,KA:()=>o,AT:()=>a,d_:()=>i});var r="GEONODE:DOWNLOAD_METADATA",o="GEONODE:DOWNLOAD_METADATA_COMPLETE";function a(e,t){return{type:r,link:e,pk:t}}function i(e,t){return{type:o,link:e,pk:t}}},228261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(124852),o=n.n(r),a=n(45697),i=n.n(a),l=["id","className","style","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}function c(e){var t=e.id,n=e.className,r=e.style,a=e.children,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),c=n?" "+n:"";return o().createElement(o().Fragment,null,o().createElement("div",u({},i,{id:t,className:"gn-spinner".concat(c),style:r}),o().createElement("div",null)),a)}c.propTypes={id:i().string,className:i().string,style:i().object},c.defaultProps={};const s=c},51605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(228261)},985774:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(49977),o=n(375875),a=n.n(o),i=n(178598),l=n(788554),u=n(197395),c=function(e,t){return e.ofType(l.Wr).switchMap((function(e){var n,o,c,s,d,f=t.getState(),p=null===(n=f.gnresource)||void 0===n||null===(o=n.data)||void 0===o||null===(c=o.links)||void 0===c?void 0:c.find((function(t){return t.name===e.link})).url,v=null===(s=f.gnresource)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.title;return r.Observable.defer((function(){return a().get(p).then((function(e){return e}))})).switchMap((function(t){var n=t.data,o=t.headers;if("application/xml"===o["content-type"]||"application/xml; charset=UTF-8"===o["content-type"]){var a=String.fromCharCode.apply(null,new Uint8Array(n));if(0===a.indexOf("<ows:ExceptionReport"))throw a}return(0,i.saveAs)(new Blob([n],{type:o&&o["content-type"]}),"".concat(v,"_").concat(e.link.split(" ").join("_"),"_Metadata")),r.Observable.of((0,l.d_)(e.link,e.pk))})).catch((function(t){var n,o,a;return r.Observable.of((0,l.d_)(e.link,e.pk),(0,u.vU)({title:"gnviewer.cannotPerfomAction",message:(null==t||null===(n=t.data)||void 0===n?void 0:n.message)||(null==t||null===(o=t.data)||void 0===o?void 0:o.detail)||(null==t||null===(a=t.originalError)||void 0===a?void 0:a.message)||"gnviewer.syncErrorDefault"}))}))}))}},902701:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(124852),o=n.n(r),a=n(171703),i=n(22222),l=n(322843),u=n(805346),c=n(303744),s=n(788554),d=n(985774),f=n(51605),p=n(894176);function v(e){var t=e.onDownload,n=e.resourcePk,r=e.isDownloading;return o().createElement(c.Z,{variant:"default",onClick:function(){return t("DataCite",n)}},r&&o().createElement(f.Z,{animation:"border",role:"status"},o().createElement("span",{className:"sr-only"},"Loading..."))," ",o().createElement(u.Z,{msgId:"gnviewer.dataCite"}))}var y=(0,a.connect)((0,i.P1)([function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data.pk)||null},function(e){var t,n;return(null==e||null===(t=e.gnDownload)||void 0===t||null===(n=t.downloads)||void 0===n?void 0:n.DataCite)||{}}],(function(e,t){return{resourcePk:e,isDownloading:t[e]}})),{onDownload:s.AT})(v);v.defaultProps={onDownload:function(){},resourcePk:null,isDownloading:!1};const m=(0,l.rx)("DataCiteDownload",{component:function(){return null},containers:{ActionNavbar:{name:"DataCiteDownload",Component:y}},epics:{gnDownloadMetaData:d.l},reducers:{gnDownload:p.Z}})},894176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(788554);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={downloads:{ISO:{},DublinCore:{},DataCite:{}}};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.Wr:var n,o=null==t||null===(n=t.link)||void 0===n?void 0:n.split(" ").join("");return i(i({},e),{},{downloads:i(i({},e.downloads),{},l({},o,l({},t.pk,!0)))});case r.KA:var a,c=i({},e),s=null==t||null===(a=t.link)||void 0===a?void 0:a.split(" ").join(""),d=c.downloads[s];return delete d[t.pk],i(i({},c),{},{downloads:i(i({},c.downloads),{},l({},s,i({},d)))});default:return e}}},178598:function(e,t,n){var r,o=o||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},u=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},s=function(t,s,d){d||(t=c(t));var f,p=this,v="application/octet-stream"===t.type,y=function(){!function(e,t){for(var n=(t=[].concat(t)).length;n--;){var r=e["on"+t[n]];if("function"==typeof r)try{r.call(e,e)}catch(e){l(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,o)return f=n().createObjectURL(t),void setTimeout((function(){var e,t;r.href=f,r.download=s,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),y(),u(f),p.readyState=p.DONE}));!function(){if((i||v&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=i?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,y()},r.readAsDataURL(t),void(p.readyState=p.INIT)}f||(f=n().createObjectURL(t)),v?e.location.href=f:e.open(f,"_blank")||(e.location.href=f),p.readyState=p.DONE,y(),u(f)}()},d=s.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new s(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=o:null!==n.amdD&&null!==n.amdO&&(void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r))}}]);